<!DOCTYPE html><HTML lang="en"><head><script charset="utf-8" src="../../../assets/default/multidoc_injector.js" type="text/javascript"></script><script charset="utf-8" type="text/javascript">window.MULTIDOCUMENTER_ROOT_PATH = '/'</script><script charset="utf-8" src="../../../assets/default/flexsearch.bundle.js" type="text/javascript"></script><script charset="utf-8" src="../../../assets/default/flexsearch_integration.js" type="text/javascript"></script><meta charset="UTF-8"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><title>Tutorial · AstroTime.jl</title><meta content="Tutorial · AstroTime.jl" name="title"/><meta content="Tutorial · AstroTime.jl" property="og:title"/><meta content="Tutorial · AstroTime.jl" property="twitter:title"/><meta content="Documentation for AstroTime.jl." name="description"/><meta content="Documentation for AstroTime.jl." property="og:description"/><meta content="Documentation for AstroTime.jl." property="twitter:description"/><script data-outdated-warner="" src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script data-main="../assets/documenter.js" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" data-theme-name="catppuccin-mocha" href="../assets/themes/catppuccin-mocha.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="catppuccin-macchiato" href="../assets/themes/catppuccin-macchiato.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="catppuccin-frappe" href="../assets/themes/catppuccin-frappe.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="catppuccin-latte" href="../assets/themes/catppuccin-latte.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="documenter-dark" data-theme-primary-dark="" href="../assets/themes/documenter-dark.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="documenter-light" data-theme-primary="" href="../assets/themes/documenter-light.css" rel="stylesheet" type="text/css"/><script src="../assets/themeswap.js"></script><link href="https://JuliaAstro.org/AstroTime/stable/tutorial/" rel="canonical"/><link href="../../../assets/default/multidoc.css" rel="stylesheet" type="text/css"/><link href="../../../assets/default/flexsearch.css" rel="stylesheet" type="text/css"/></head><body><nav id="multi-page-nav"><a class="brand" href="../../.."><img alt="home" src="../../../assets/logo.svg"/></a><div class="hidden-on-mobile" id="nav-items"><a class="nav-link nav-item" href="../../../home/">Home</a><div class="nav-dropdown"><button class="nav-item dropdown-label">Domain</button><div class="nav-dropdown-container nav-mega-dropdown-container"><div class="nav-mega-column"><div class="column-header">Solar System</div><ul class="column-content"><a class="nav-link nav-item" href="../../../CALCEPH/">⬤ CALCEPH</a><a class="nav-link nav-item" href="https://juliaastro.org/EphemerisSources.jl" target="_blank">⬤ EphemerisSources</a><a class="nav-link nav-item" href="https://juliaastro.org/GeneralAstrodynamics.jl" target="_blank">⬤ GeneralAstrodynamics</a><a class="nav-link nav-item" href="https://github.com/PerezHz/HORIZONS.jl?tab=readme-ov-file#horizonsjl" target="_blank">⬤ HORIZONS</a><a class="nav-link nav-item" href="https://juliaspace.github.io/SatelliteToolbox.jl/stable/" target="_blank">⬤ SatelliteToolbox</a><a class="nav-link nav-item" href="../../../SPICE/">⬤ SPICE</a></ul></div><div class="nav-mega-column"><div class="column-header">Exoplanets</div><ul class="column-content"><a class="nav-link nav-item" href="http://JuliaHCI.github.io/ADI.jl/stable/" target="_blank">⬤ ADI</a><a class="nav-link nav-item" href="http://JuliaHCI.github.io/HCIToolbox.jl/stable/" target="_blank">⬤ HCIToolbox</a><a class="nav-link nav-item" href="../../../Orbits/">⬤ Orbits</a><a class="nav-link nav-item" href="https://sefffal.github.io/PlanetOrbits.jl/dev/" target="_blank">⬤ PlanetOrbits</a><a class="nav-link nav-item" href="../../../Transits/">⬤ Transits</a></ul></div><div class="nav-mega-column"><div class="column-header">Stars</div><ul class="column-content"><a class="nav-link nav-item" href="https://cgarling.github.io/BolometricCorrections.jl/stable/" target="_blank">⬤ BolometricCorrections</a><a class="nav-link nav-item" href="https://cgarling.github.io/InitialMassFunctions.jl/stable/" target="_blank">⬤ InitialMassFunctions</a><a class="nav-link nav-item" href="https://cgarling.github.io/StarFormationHistories.jl/stable/" target="_blank">⬤ StarFormationHistories</a></ul></div><div class="nav-mega-column"><div class="column-header">Galaxies and Cosmology</div><ul class="column-content"><a class="nav-link nav-item" href="../../../Cosmology/">⬤ Cosmology</a><a class="nav-link nav-item" href="../../../DustExtinction/">⬤ DustExtinction</a><a class="nav-link nav-item" href="https://ehtjulia.github.io/ScatteringOptics.jl/stable/" target="_blank">⬤ ScatteringOptics</a></ul></div></div></div><div class="nav-dropdown"><button class="nav-item dropdown-label">Techniques</button><div class="nav-dropdown-container nav-mega-dropdown-container"><div class="nav-mega-column"><div class="column-header">Photometry</div><ul class="column-content"><a class="nav-link nav-item" href="../../../CCDReduction/">⬤ CCDReduction</a><a class="nav-link nav-item" href="../../../LACosmic/">⬤ LACosmic</a><a class="nav-link nav-item" href="../../../Photometry/">⬤ Photometry</a><a class="nav-link nav-item" href="../../../PSFModels/">⬤ PSFModels</a><a class="nav-link nav-item" href="../../../SAOImageDS9/">⬤ SAOImageDS9</a></ul></div><div class="nav-mega-column"><div class="column-header">Astrometry</div><ul class="column-content"><a class="nav-link nav-item" href="https://barrettp.github.io/Astrometry/dev" target="_blank">⬤ Astrometry</a><a class="nav-link active nav-item" href="../../">⬤ AstroTime</a><a class="nav-link nav-item" href="../../../EarthOrientation/">⬤ EarthOrientation</a><a class="nav-link nav-item" href="../../../ERFA/">◯ ERFA</a><a class="nav-link nav-item" href="../../../Healpix/">⬤ Healpix</a><a class="nav-link nav-item" href="../../../Reproject/">⬤ Reproject</a><a class="nav-link nav-item" href="../../../SkyCoords/">⬤ SkyCoords</a><a class="nav-link nav-item" href="../../../WCS/">◯ WCS</a></ul></div><div class="nav-mega-column"><div class="column-header">Spectroscopy</div><ul class="column-content"><a class="nav-link nav-item" href="https://ajwheeler.github.io/Korg.jl/stable/" target="_blank">⬤ Korg</a><a class="nav-link nav-item" href="../../../Spectra/">⬤ Spectra</a><a class="nav-link nav-item" href="https://fjebaker.github.io/SpectralFitting.jl/dev/" target="_blank">⬤ SpectralFitting</a></ul></div><div class="nav-mega-column"><div class="column-header">Time Series Analysis</div><ul class="column-content"><a class="nav-link nav-item" href="https://docs.juliadsp.org/stable/" target="_blank">⬤ DSP</a><a class="nav-link nav-item" href="../../../LombScargle/">⬤ LombScargle</a><a class="nav-link nav-item" href="https://juliastats.github.io/TimeSeries.jl/stable" target="_blank">⬤ TimeSeries</a></ul></div><div class="nav-mega-column"><div class="column-header">Interferometry</div><ul class="column-content"><a class="nav-link nav-item" href="https://ptiede.github.io/Comrade.jl/stable/" target="_blank">⬤ Comrade</a><a class="nav-link nav-item" href="https://aplavin.github.io/Difmap.jl/test/examples.html" target="_blank">⬤ Difmap</a><a class="nav-link nav-item" href="https://github.com/emmt/OIFITS.jl?tab=readme-ov-file#support-for-oi-fits-data-in-julia" target="_blank">⬤ OIFITS</a><a class="nav-link nav-item" href="https://fabienbaron.github.io/OITOOLS.jl/dev" target="_blank">⬤ OITOOLS</a><a class="nav-link nav-item" href="https://ehtjulia.github.io/PolarizedTypes.jl/stable/" target="_blank">⬤ PolarizedTypes</a><a class="nav-link nav-item" href="https://aplavin.github.io/VLBIData.jl/test/examples.html" target="_blank">⬤ VLBIData</a><a class="nav-link nav-item" href="https://ehtjulia.github.io/VLBISkyModels.jl/stable/" target="_blank">⬤ VLBISkyModels</a></ul></div></div></div><div class="nav-dropdown"><button class="nav-item dropdown-label">Statistics</button><div class="nav-dropdown-container nav-mega-dropdown-container"><div class="nav-mega-column"><div class="column-header">Uncertainty</div><ul class="column-content"><a class="nav-link nav-item" href="https://juliaphysics.github.io/Measurements.jl/stable/" target="_blank">⬤ Measurements</a><a class="nav-link nav-item" href="https://baggepinnen.github.io/MonteCarloMeasurements.jl/stable/" target="_blank">⬤ MonteCarloMeasurements</a><a class="nav-link nav-item" href="https://baggepinnen.github.io/MonteCarloMeasurements.jl/stable/" target="_blank">⬤ Uncertain</a></ul></div><div class="nav-mega-column"><div class="column-header">Optimization</div><ul class="column-content"><a class="nav-link nav-item" href="../../../BoxLeastSquares/">⬤ BoxLeastSquares</a><a class="nav-link nav-item" href="http://jump.dev/JuMP.jl/" target="_blank">⬤ JuMP</a><a class="nav-link nav-item" href="https://docs.sciml.ai/NonlinearSolve/stable/" target="_blank">⬤ NonlinearSolve</a><a class="nav-link nav-item" href="https://docs.sciml.ai/Optimization/stable/" target="_blank">⬤ Optimization</a></ul></div><div class="nav-mega-column"><div class="column-header">General</div><ul class="column-content"><a class="nav-link nav-item" href="../../../AstroLib/">⬤ AstroLib</a><a class="nav-link nav-item" href="http://mileslucas.com/BiweightStats.jl/stable/" target="_blank">⬤ BiweightStats</a><a class="nav-link nav-item" href="https://github.com/jeff-regier/Celeste.jl/wiki/" target="_blank">⬤ Celeste</a><a class="nav-link nav-item" href="https://juliastats.org/" target="_blank">⬤ JuliaStats</a><a class="nav-link nav-item" href="https://juliastats.github.io/Distributions.jl/stable/" target="_blank">⬤ Distributions</a><a class="nav-link nav-item" href="https://ehtjulia.github.io/FastHartleyTransform.jl/stable/" target="_blank">⬤ FastHartleyTransform</a><a class="nav-link nav-item" href="https://sefffal.github.io/Octofitter.jl/dev" target="_blank">⬤ Octofitter</a></ul></div></div></div><div class="nav-dropdown"><button class="nav-item dropdown-label">Utilities</button><div class="nav-dropdown-container nav-mega-dropdown-container"><div class="nav-mega-column"><div class="column-header">Data I/O</div><ul class="column-content"><a class="nav-link nav-item" href="../../../ASDF2/">⬤ ASDF2</a><a class="nav-link nav-item" href="../../../AstroImages/">⬤ AstroImages</a><a class="nav-link nav-item" href="../../../CFITSIO/">◯ CFITSIO</a><a class="nav-link nav-item" href="https://emmt.github.io/EasyFITS.jl/dev" target="_blank">⬤ EasyFITS</a><a class="nav-link nav-item" href="https://barrettp.github.io/FITSFiles.jl/" target="_blank">⬤ FITSFiles</a><a class="nav-link nav-item" href="../../../FITSIO/">◯ FITSIO</a><a class="nav-link nav-item" href="https://github.com/JuliaAPlavin/FixedWidthTables.jl?tab=readme-ov-file#fixedwidthtablesjl" target="_blank">⬤ FixedWidthTables</a><a class="nav-link nav-item" href="https://aplavin.github.io/SkyImages.jl/test/notebook.html" target="_blank">⬤ SkyImages</a><a class="nav-link nav-item" href="https://github.com/JuliaAPlavin/VirtualObservatory.jl?tab=readme-ov-file#virtualobservatoryjl" target="_blank">⬤ VirtualObservatory</a><a class="nav-link nav-item" href="https://github.com/JuliaAPlavin/VOTables.jl" target="_blank">⬤ VOTables</a><a class="nav-link nav-item" href="../../../XPA/">⬤ XPA</a></ul></div><div class="nav-mega-column"><div class="column-header">Data processing</div><ul class="column-content"><a class="nav-link nav-item" href="../../../Astroalign/">⬤ Astroalign</a><a class="nav-link nav-item" href="../../../BackgroundMeshes/">⬤ BackgroundMeshes</a><a class="nav-link nav-item" href="https://github.com/torrance/Casacore.jl?tab=readme-ov-file#casacorejl" target="_blank">⬤ Casacore</a><a class="nav-link nav-item" href="https://dataframes.juliadata.org/stable/" target="_blank">⬤ DataFrames</a><a class="nav-link nav-item" href="https://rafaqz.github.io/DimensionalData.jl/stable/" target="_blank">⬤ DimensionalData</a><a class="nav-link nav-item" href="https://aplavin.github.io/FlexiJoins.jl/test/examples.html" target="_blank">⬤ FlexiJoins</a><a class="nav-link nav-item" href="https://github.com/gcalderone/SortMerge.jl?tab=readme-ov-file#sortmerge" target="_blank">⬤ SortMerge</a></ul></div><div class="nav-mega-column"><div class="column-header">Data Viz</div><ul class="column-content"><a class="nav-link nav-item" href="../../../AstroImages/">⬤ AstroImages</a><a class="nav-link nav-item" href="https://juliaimages.github.io/ImageFiltering.jl/stable" target="_blank">⬤ ImageFiltering</a><a class="nav-link nav-item" href="https://manuelbehrendt.github.io/Mera.jl/stable/" target="_blank">⬤ Mera</a><a class="nav-link nav-item" href="https://sefffal.github.io/PairPlots.jl/dev/" target="_blank">⬤ PairPlots</a><a class="nav-link nav-item" href="https://aplavin.github.io/SkyImages.jl/test/notebook.html" target="_blank">⬤ SkyImages</a></ul></div><div class="nav-mega-column"><div class="column-header">Units/Constants</div><ul class="column-content"><a class="nav-link nav-item" href="../../../AstroAngles/">⬤ AstroAngles</a><a class="nav-link nav-item" href="https://symbolicml.org/DynamicQuantities.jl/stable/" target="_blank">⬤ DynamicQuantities</a><a class="nav-link nav-item" href="https://juliaphysics.github.io/PhysicalConstants.jl/stable/" target="_blank">⬤ PhysicalConstants</a><a class="nav-link nav-item" href="https://painterqubits.github.io/Unitful.jl/stable" target="_blank">⬤ Unitful</a><a class="nav-link nav-item" href="../../../UnitfulAstro/">⬤ UnitfulAstro</a></ul></div></div></div><div class="search nav-item"><input id="search-input" placeholder="Search everywhere..."/><ul class="suggestions hidden" id="search-result-container"></ul><div class="search-keybinding">/</div></div></div><button id="multidoc-toggler"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg></button></nav><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img alt="AstroTime.jl logo" src="../assets/logo.png"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">AstroTime.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href="">Tutorial</a><ul class="internal"><li><a class="tocitem" href="#Creating-Epochs"><span>Creating Epochs</span></a></li><li><a class="tocitem" href="#Working-with-Epochs-and-Periods"><span>Working with Epochs and Periods</span></a></li><li><a class="tocitem" href="#Ranges"><span>Ranges</span></a></li><li><a class="tocitem" href="#Converting-Between-Time-Scales"><span>Converting Between Time Scales</span></a></li><li><a class="tocitem" href="#Working-with-Julian-Dates"><span>Working with Julian Dates</span></a></li><li><a class="tocitem" href="#Converting-to-Standard-Library-Types"><span>Converting to Standard Library Types</span></a></li><li><a class="tocitem" href="#Defining-Custom-Time-Scales"><span>Defining Custom Time Scales</span></a></li></ul></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../api/timescales/">Time Scales</a></li><li><a class="tocitem" href="../api/periods/">Periods</a></li><li><a class="tocitem" href="../api/epochs/">Epochs</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" href="#" id="documenter-sidebar-button"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="">Tutorial</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="">Tutorial</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaAstro/AstroTime.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaAstro/AstroTime.jl/blob/main/docs/src/tutorial.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" href="#" id="documenter-settings-button" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" href="javascript:;" id="documenter-article-toggle-button" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Tutorial"><a class="docs-heading-anchor" href="#Tutorial">Tutorial</a><a id="Tutorial-1"></a><a class="docs-heading-anchor-permalink" href="#Tutorial" title="Permalink"></a></h1><p>This tutorial will walk you through the features and functionality of AstroTime.jl. Everything in this package revolves around the <code>Epoch</code> data type. <code>Epochs</code> are a high-precision, time-scale aware version of the <a href="https://docs.julialang.org/en/v1.0/stdlib/Dates"><code>DateTime</code></a> type from Julia's standard library. This means that while <code>DateTime</code> timestamps are always assumed to be based on Universal Time (UT), <code>Epochs</code> can be created in several pre-defined time scales or custom user-defined time scales.</p><h2 id="Creating-Epochs"><a class="docs-heading-anchor" href="#Creating-Epochs">Creating Epochs</a><a id="Creating-Epochs-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-Epochs" title="Permalink"></a></h2><p>You construct <code>Epoch</code> instances similar to <code>DateTime</code> instances, for example by using date and time components. The main difference is that you need to supply the time scale to be used. Out of the box, the following time scales are defined:</p><ul><li><a href="../api/timescales/#AstroTime.TimeScales.TAI"><code>TAI</code></a>: <a href="https://en.wikipedia.org/wiki/International_Atomic_Time">International Atomic Time</a></li><li><a href="../api/timescales/#AstroTime.TimeScales.UT1"><code>UT1</code></a>: <a href="https://en.wikipedia.org/wiki/Universal_Time#Versions">Universal Time</a><sup class="footnote-reference"><a href="#footnote-1" id="citeref-1">[1]</a></sup></li><li><a href="../api/timescales/#AstroTime.TimeScales.TT"><code>TT</code></a>: <a href="https://en.wikipedia.org/wiki/Terrestrial_Time">Terrestrial Time</a></li><li><a href="../api/timescales/#AstroTime.TimeScales.TCG"><code>TCG</code></a>: <a href="https://en.wikipedia.org/wiki/Geocentric_Coordinate_Time">Geocentric Coordinate Time</a></li><li><a href="../api/timescales/#AstroTime.TimeScales.TCB"><code>TCB</code></a>: <a href="https://en.wikipedia.org/wiki/Barycentric_Coordinate_Time">Barycentric Coordinate Time</a></li><li><a href="../api/timescales/#AstroTime.TimeScales.TDB"><code>TDB</code></a>: <a href="https://en.wikipedia.org/wiki/Barycentric_Dynamical_Time">Barycentric Dynamical Time</a></li></ul><p>Conspicuously missing from this list is <a href="https://en.wikipedia.org/wiki/Coordinated_Universal_Time">Coordinated Universal Time (UTC)</a>. While AstroTime.jl does support UTC, it requires special treatment due to the discontinuities in the time scale from the introduction of leap seconds. See <a href="#UTC-and-Leap-Seconds">UTC and Leap Seconds</a> for more details.</p><pre><code class="language-julia hljs">using AstroTime

ep = Epoch{InternationalAtomicTime}(2018, 2, 6, 20, 45, 0.0)

# The following shorthand syntax also works
ep = TAIEpoch(2018, 2, 6, 20, 45, 0.0)

# Or in another time scale
ep = TTEpoch(2018, 2, 6, 20, 45, 0.0)

# Or use UTC with leap second handling
ep = from_utc(2018, 2, 6, 20, 45, 0.0)</code></pre><p>You can also parse an <code>Epoch</code> from a string. AstroTime.jl uses the <a href="https://docs.julialang.org/en/stable/stdlib/Dates/#Dates.DateFormat"><code>DateFormat</code></a> type and specification language from the <code>Dates</code> module from Julia's standard library. For example:</p><pre><code class="language-julia hljs">ep = TAIEpoch("2018-02-06T20:45:00.000", "yyyy-mm-ddTHH:MM:SS.fff")

# The format string above `yyyy-mm-ddTHH:MM:SS.fff` is also the default format.
# Thus, this also works...
ep = TAIEpoch("2018-02-06T20:45:00.000")

import Dates

# You can also reuse the format string
df = Dates.dateformat"dd.mm.yyyy HH:MM"

utc = from_utc("06.02.2018 20:45", df)
tai = TAIEpoch("06.02.2018 20:45", df)</code></pre><p>There are three additional character codes supported.</p><ul><li><code>f</code>: This character code is parsed as the fraction of the current second and supports an arbitrary number of decimal places.</li><li><code>t</code>: This character code is parsed as the time scale.</li><li><code>D</code>: This character code is parsed as the day number within a year.</li></ul><p>The time scale can be omitted from the constructor in the first example because it is already defined in the input string</p><pre><code class="language-julia-repl hljs">julia&gt; Epoch("2018-02-06T20:45:00.000 TAI", "yyyy-mm-ddTHH:MM:SS.fff ttt")
2018-02-06T20:45:00.000 TAI</code></pre><pre><code class="language-julia-repl hljs">julia&gt; TAIEpoch("2018-037T20:45:00.000", "yyyy-DDDTHH:MM:SS.fff") # February 6 is the 37th day of the year
2018-02-06T20:45:00.000 TAI</code></pre><p>When printing <code>Epochs</code>, you can format the output in the same way.</p><pre><code class="language-julia-repl hljs">julia&gt; ep = TAIEpoch(2018, 2, 6, 20, 45, 0.0)
2018-02-06T20:45:00.000 TAI

julia&gt; AstroTime.format(ep, "dd.mm.yyyy HH:MM ttt")
06.02.2018 20:45 TAI</code></pre><h2 id="Working-with-Epochs-and-Periods"><a class="docs-heading-anchor" href="#Working-with-Epochs-and-Periods">Working with Epochs and Periods</a><a id="Working-with-Epochs-and-Periods-1"></a><a class="docs-heading-anchor-permalink" href="#Working-with-Epochs-and-Periods" title="Permalink"></a></h2><p>You can shift an <code>Epoch</code> in time by adding or subtracting an <a href="../api/periods/#AstroTime.Periods.AstroPeriod"><code>AstroPeriod</code></a> to it.</p><p>AstroTime.jl provides a convenient way to construct periods by multiplying a value with a time unit.</p><pre><code class="language-julia-repl hljs">julia&gt; 23 * seconds
23 seconds

julia&gt; 1hours # You can use Julia's factor juxtaposition syntax and omit the `*`
1 hour</code></pre><p>The following time units are available:</p><ul><li><code>seconds</code></li><li><code>minutes</code></li><li><code>hours</code></li><li><code>days</code></li><li><code>years</code></li><li><code>centuries</code></li></ul><p>To shift an <code>Epoch</code> forward in time add an <code>AstroPeriod</code> to it.</p><pre><code class="language-julia-repl hljs">julia&gt; ep = TAIEpoch(2000, 1, 1)
2000-01-01T00:00:00.000 TAI

julia&gt; ep + 1days
2000-01-02T00:00:00.000 TAI</code></pre><p>Or subtract it to shift the <code>Epoch</code> backwards.</p><pre><code class="language-julia-repl hljs">julia&gt; ep = TAIEpoch(2000, 1, 1)
2000-01-01T00:00:00.000 TAI

julia&gt; ep - 1days
1999-12-31T00:00:00.000 TAI</code></pre><p>If you subtract two epochs you will receive the time between them as an <code>AstroPeriod</code>.</p><pre><code class="language-julia-repl hljs">julia&gt; ep1 = TAIEpoch(2000, 1, 1)
2000-01-01T00:00:00.000 TAI

julia&gt; ep2 = TAIEpoch(2000, 1, 2)
2000-01-02T00:00:00.000 TAI

julia&gt; ep2 - ep1
86400.0 seconds</code></pre><p>You can also construct an <code>AstroPeriod</code> with a different time unit from another <code>AstroPeriod</code>.</p><pre><code class="language-julia-repl hljs">julia&gt; dt = 86400.0seconds
86400.0 seconds

julia&gt; days(dt)
1.0 days</code></pre><p>To access the raw value of a period, i.e. without a unit, use the <code>value</code> function.</p><pre><code class="language-julia-repl hljs">julia&gt; dt = 86400.0seconds
86400.0 seconds

julia&gt; value(days(dt))
1.0</code></pre><h2 id="Ranges"><a class="docs-heading-anchor" href="#Ranges">Ranges</a><a id="Ranges-1"></a><a class="docs-heading-anchor-permalink" href="#Ranges" title="Permalink"></a></h2><p>You can also construct ranges of <code>Epoch</code>s. The default step size one second.</p><pre><code class="language-julia-repl hljs">julia&gt; TAIEpoch(2021, 7, 30, 17, 34, 30.0):TAIEpoch(2021, 7, 30, 17, 34, 31.0)
2021-07-30T17:34:30.000 TAI:1.0 seconds:2021-07-30T17:34:31.000 TAI</code></pre><p>Or you can adjust the step size with any of the units supported.</p><pre><code class="language-julia-repl hljs">julia&gt; collect(TAIEpoch(2000, 1, 1):1days:TAIEpoch(2000, 1, 5))
5-element Vector{TAIEpoch{Float64}}:
 2000-01-01T00:00:00.000 TAI
 2000-01-02T00:00:00.000 TAI
 2000-01-03T00:00:00.000 TAI
 2000-01-04T00:00:00.000 TAI
 2000-01-05T00:00:00.000 TAI</code></pre><h2 id="Converting-Between-Time-Scales"><a class="docs-heading-anchor" href="#Converting-Between-Time-Scales">Converting Between Time Scales</a><a id="Converting-Between-Time-Scales-1"></a><a class="docs-heading-anchor-permalink" href="#Converting-Between-Time-Scales" title="Permalink"></a></h2><p>You convert an <code>Epoch</code> to another time scale by constructing a new <code>Epoch</code> with the target time scale from it.</p><pre><code class="language-julia-repl hljs">julia&gt; tai = TAIEpoch(2018, 2, 6, 20, 45, 0.0)
2018-02-06T20:45:00.000 TAI

julia&gt; tt = TTEpoch(tai) # Convert to TT
2018-02-06T20:45:32.184 TT</code></pre><h3 id="UTC-and-Leap-Seconds"><a class="docs-heading-anchor" href="#UTC-and-Leap-Seconds">UTC and Leap Seconds</a><a id="UTC-and-Leap-Seconds-1"></a><a class="docs-heading-anchor-permalink" href="#UTC-and-Leap-Seconds" title="Permalink"></a></h3><p>UTC is the primary civil time standard and aims to provide a time scale based on TAI and uniform SI seconds that is at the same time aligned with UT1 which is based on solar time and governed by the rotation of the Earth. The problem is that Earth's rotation speed is much more irregular compared to atomic clocks which define the SI second. Over the past decades, Earth's rotation has continuously slowed and thus TAI has been running ahead of UT1.</p><p>Leap seconds are inserted into the UTC time scale to keep it within 0.9 seconds of UT1. This introduces ambiguities in AstroTime.jl's data model (see <a href="https://github.com/JuliaAstro/AstroTime.jl/issues/50">#50</a>). As a consequence, <code>UTCEpoch</code>s are not supported. Nevertheless, UTC is supported as an I/O format for timestamps through the <a href="../api/epochs/#AstroTime.Epochs.from_utc"><code>from_utc</code></a> and <a href="../api/epochs/#AstroTime.Epochs.to_utc"><code>to_utc</code></a> functions.</p><p>The last leap second was introduced at the end of December 31, 2016. You can create a <code>TAIEpoch</code> (or other <code>Epoch</code>s) from a UTC date with proper leap second handling:</p><pre><code class="language-julia-repl hljs">julia&gt; from_utc(2016, 12, 31, 23, 59, 60.0)
2017-01-01T00:00:36.000 TAI

julia&gt; from_utc("2016-12-31T23:59:60.0")
2017-01-01T00:00:36.000 TAI

julia&gt; from_utc("2016-12-31T23:59:60.0", scale=TDB)
2017-01-01T00:01:08.183 TDB</code></pre><p>You can also use <code>Dates.DateTime</code> but note that you cannot represent a leap second date with it.</p><pre><code class="language-julia-repl hljs">julia&gt; tai = from_utc(Dates.DateTime(2018, 2, 6, 20, 45, 0, 0))
2018-02-06T20:45:37.000 TAI</code></pre><p>And go back to UTC:</p><pre><code class="language-julia-repl hljs">julia&gt; to_utc(tai)
"2018-02-06T20:45:00.000"

julia&gt; to_utc(String, tai, Dates.dateformat"yyyy-mm-dd")
"2018-02-06"

julia&gt; to_utc(Dates.DateTime, tai)
2018-02-06T20:45:00</code></pre><h3 id="High-Precision-Conversions-and-Custom-Offsets"><a class="docs-heading-anchor" href="#High-Precision-Conversions-and-Custom-Offsets">High-Precision Conversions and Custom Offsets</a><a id="High-Precision-Conversions-and-Custom-Offsets-1"></a><a class="docs-heading-anchor-permalink" href="#High-Precision-Conversions-and-Custom-Offsets" title="Permalink"></a></h3><p>Some time scale transformations depend on measured quantities which cannot be accurately predicted (e.g. UT1) or there are different algorithms which offer variable levels of accuracy. For the former, AstroTime.jl can download the required data automatically from the internet. You need to run <code>AstroTime.update()</code> periodically (weekly) to keep this data up-to-date. For the latter, AstroTime.jl will use the alogrithm which provides the best trade-off between accuracy and performance for most applications.</p><p>If you cannot use the internet or want to use a different data source, e.g. a time ephemeris, to obtain the offset between time scales, you can use the following constructor for epochs which overrides the default algorithms.</p><pre><code class="language-julia hljs"># AstroTime.jl provides a higher precision TDB&lt;-&gt;TT transformation that is dependent on
# the position of the observer on Earth

tt = TTEpoch(2018, 2, 6, 20, 46, 9.184)
dt = getoffset(tt, TDB, elong, u, v)

# Use the custom offset for the transformation
tdb = TDBEpoch(dt, tt)</code></pre><h2 id="Working-with-Julian-Dates"><a class="docs-heading-anchor" href="#Working-with-Julian-Dates">Working with Julian Dates</a><a id="Working-with-Julian-Dates-1"></a><a class="docs-heading-anchor-permalink" href="#Working-with-Julian-Dates" title="Permalink"></a></h2><p>Epochs can be converted to and from <a href="https://en.wikipedia.org/wiki/Julian_day">Julian Dates</a>. Three different base epochs are supported:</p><ul><li>The (default) J2000 date which starts at January 1, 2000, at 12h,</li><li>the standard Julian date which starts at January 1, 4712BC, at 12h,</li><li>and the Modified Julian date which starts at November 17, 1858, at midnight.</li></ul><p>You can get Julian date in days from an <code>Epoch</code> like this:</p><pre><code class="language-julia-repl hljs">julia&gt; ep = TTEpoch(2000,1,2)
2000-01-02T00:00:00.000 TT

julia&gt; j2000(ep)
0.5 days

julia&gt; julian(ep)
2.4515455e6 days

julia&gt; modified_julian(ep)
51545.0 days</code></pre><p>To construct an <code>Epoch</code> from a Julian date do this:</p><pre><code class="language-julia-repl hljs">julia&gt; TTEpoch(0.5days) # J2000 is the default
2000-01-02T00:00:00.000 TT

julia&gt; TTEpoch(0.5days, origin=:j2000)
2000-01-02T00:00:00.000 TT

julia&gt; TTEpoch(2.4515455e6days, origin=:julian)
2000-01-02T00:00:00.000 TT

julia&gt; TTEpoch(51545.0days, origin=:modified_julian)
2000-01-02T00:00:00.000 TT

julia&gt; TTEpoch(86400.0seconds, origin=:j2000)
2000-01-02T12:00:00.000 TT</code></pre><p>Some libraries (such as <a href="https://github.com/JuliaAstro/ERFA.jl">ERFA</a>) expect a two-part Julian date as input. You can use <a href="../api/epochs/#AstroTime.AstroDates.julian_twopart-Tuple{Epoch}"><code>julian_twopart(ep)</code></a> in this case. If you need more control over the output, have a look at the <a href="../api/epochs/#AstroTime.Epochs.julian_period-Tuple{Epoch}"><code>julian_period</code></a> function.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>You should not convert an <code>Epoch</code> to a Julian date to do arithmetic because this will result in a loss of accuracy.</p></div></div><h2 id="Converting-to-Standard-Library-Types"><a class="docs-heading-anchor" href="#Converting-to-Standard-Library-Types">Converting to Standard Library Types</a><a id="Converting-to-Standard-Library-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Converting-to-Standard-Library-Types" title="Permalink"></a></h2><p><code>Epoch</code> instances satisfy the <code>AbstractDateTime</code> interface specified in the <a href="https://docs.julialang.org/en/v1.0/stdlib/Dates">Dates</a> module of Julia's standard library.  Thus, you should be able to pass them to other libraries which expect a standard <code>DateTime</code>. Please open an issue on <a href="https://github.com/JuliaAstro/AstroTime.jl/issues">the issue tracker</a> if you encounter any problems with this.</p><p>It is nevertheless possible to convert an <code>Epoch</code> to a <code>DateTime</code> if it should become necessary. Please note that the time scale information will be lost in the process.</p><pre><code class="language-julia-repl hljs">julia&gt; ep = TTEpoch(2000,1,1)
2000-01-01T00:00:00.000 TT

julia&gt; import Dates; Dates.DateTime(ep)
2000-01-01T00:00:00</code></pre><h2 id="Defining-Custom-Time-Scales"><a class="docs-heading-anchor" href="#Defining-Custom-Time-Scales">Defining Custom Time Scales</a><a id="Defining-Custom-Time-Scales-1"></a><a class="docs-heading-anchor-permalink" href="#Defining-Custom-Time-Scales" title="Permalink"></a></h2><p>AstroTime.jl enables you to create your own first-class time scales via the <a href="../api/timescales/#AstroTime.@timescale"><code>@timescale</code></a> macro. The macro will define the necessary structs and register the new time scale.</p><p>Let's start with a simple example and assume that you want to define <code>EphemerisTime</code> as an alias for <code>TDB</code>. You need to provide the name of the time scale and optionally a "parent" time scale to which it is linked.</p><pre><code class="language-julia hljs">@timescale EphemerisTime TDB</code></pre><p>At this point, you can already use the new time scale to create epochs.</p><pre><code class="language-julia-repl hljs">julia&gt; EphemerisTime
EphemerisTime

julia&gt; typeof(EphemerisTime)
EphemerisTimeScale

julia&gt; et = EphemerisTimeEpoch(2000, 1, 1)
2000-01-01T00:00:00.000 EphemerisTime</code></pre><p>Conversion to other <code>Epoch</code> types will not yet work for the newly created time because you need to provide the necessary methods for <code>getoffset</code>. If you are unsure which methods are needed, you can try to transform the epoch and the resulting error message will provide a hint.</p><pre><code class="language-julia-repl hljs">julia&gt; TDBEpoch(et)
ERROR: No conversion 'EphemerisTime-&gt;TDB' available. If one of these is a custom time scale,
you may need to define `AstroTime.Epochs.getoffset(::EphemerisTimeScale, ::BarycentricDynamicalTime, second, fraction, args...)`.</code></pre><p>To enable transformations between <code>EphemerisTime</code> and <code>TDB</code> in both directions you need to define the following methods. Since <code>EphemerisTime</code> and <code>TDB</code> are identical, the offset between them is zero.</p><pre><code class="language-julia hljs">AstroTime.Epochs.getoffset(::EphemerisTimeType, ::CoordinatedUniversalTime, second, fraction) = 0.0
AstroTime.Epochs.getoffset(::CoordinatedUniversalTime, ::EphemerisTimeType, second, fraction) = 0.0</code></pre><p>You can now use <code>EphemerisTimeEpoch</code> like any other epoch type, e.g.</p><pre><code class="language-julia-repl hljs">julia&gt; ep = TDBEpoch(2000, 1, 1)
2000-01-01T00:00:00.000 TDB

julia&gt; EphemerisTimeEpoch(ep)
2000-01-01T00:00:00.000 EphemerisTime</code></pre><p>For a more complex example, let's reimplement the Geocentric Coordinate Time (TCG) scale. It is a linear transformation from Terrestrial Time (TT), i.e. the transformation is dependent on the point in time in the current time scale (the <code>second</code> and <code>fraction</code> arguments to <code>getoffset</code>).</p><pre><code class="language-julia hljs">@timescale CustomTCG TT

# The reference point
const JD77_SEC = -7.25803167816e8
# The linear rate of change
const LG_RATE = 6.969290134e-10

function getoffset(::CustomTCGScale, ::TerrestrialTime, second, fraction)
    # `second` is the number of full seconds since 2000-01-01
    # `fraction` is the fraction of the current second
    dt = second - JD77_SEC + fraction
    return -LG_RATE * dt
end

function getoffset(::TerrestrialTime, ::CustomTCGScale, second, fraction)
    # The inverse rate for the backwards transformation
    rate = LG_RATE / (1.0 - LG_RATE)
    dt = second - JD77_SEC + fraction
    return rate * dt
end
</code></pre><p>Let's assume that you want to define a time scale that determines the <a href="https://en.wikipedia.org/wiki/Spacecraft_Event_Time">Spacecraft Event Time</a> which takes the one-way light time into account.</p><p>You could use the following definitions adding the <code>distance</code> parameter which is the distance of the spacecraft from Earth.</p><pre><code class="language-julia hljs">const speed_of_light = 299792458.0 # m/s

@timescale SCET TAI

function AstroTime.Epochs.getoffset(::SCETScale, ::InternationalAtomicTime,
                                    second, fraction, distance)
    return distance / speed_of_light
end
function AstroTime.Epochs.getoffset(::InternationalAtomicTime, ::SCETScale,
                                    second, fraction, distance)
    return -distance / speed_of_light
end</code></pre><p>If you want to convert another epoch to <code>SCET</code>, you now need to pass this additional parameter. For example, for a spacecraft that is one astronomical unit away from Earth:</p><pre><code class="language-julia-repl hljs">julia&gt; astronomical_unit = 149597870700.0 # m
149597870700.0

julia&gt; ep = TAIEpoch(2000, 1, 1)
2000-01-01T00:00:00.000 TAI

julia&gt; SCETEpoch(ep, astronomical_unit)
1999-12-31T23:51:40.995 SCET</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>At this time, custom epochs with additional parameters cannot be parsed from strings.</p></div></div><p>You can also introduce time scales that are disjoint from AstroTime.jl's default graph of time scales by defining a time scale without a parent.</p><pre><code class="language-julia-repl hljs">julia&gt; @timescale Disjoint

julia&gt; typeof(Disjoint)
DisjointScale</code></pre><p>By defining additional time scales connected to this scale and the appropriate <code>getoffset</code> methods, you can create your own graph of time scales that is completely independent of the defaults provided by the library.</p><section class="footnotes is-size-7"><ul><li class="footnote" id="footnote-1"><a class="tag is-link" href="#citeref-1">1</a>Transformations to and from UT1 depend on the measured quantity ΔUT1 which is published in <a href="https://www.iers.org">IERS</a> tables on a weekly basis. AstroTime.jl can automatically fetch these tables by running <a href="../api/timescales/#AstroTime.update"><code>AstroTime.update()</code></a>. If you work with <a href="../api/timescales/#AstroTime.TimeScales.UT1"><code>UT1</code></a>, you need to run this function periodically.</li></ul></section></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../api/timescales/">Time Scales »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label></p><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div><p></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.1 on <span class="colophon-date" title="Sunday 13 April 2025 14:12">Sunday 13 April 2025</span>. Using Julia version 1.11.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></HTML>