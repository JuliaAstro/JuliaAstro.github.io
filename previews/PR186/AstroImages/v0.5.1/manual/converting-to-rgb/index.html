<!DOCTYPE html><HTML lang="en"><head><script charset="utf-8" src="../../../../assets/default/multidoc_injector.js" type="text/javascript"></script><script charset="utf-8" type="text/javascript">window.MULTIDOCUMENTER_ROOT_PATH = '/'</script><script charset="utf-8" src="../../../../assets/default/flexsearch.bundle.js" type="text/javascript"></script><script charset="utf-8" src="../../../../assets/default/flexsearch_integration.js" type="text/javascript"></script><meta charset="UTF-8"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><title>Converting to RGB · AstroImages.jl</title><meta content="Converting to RGB · AstroImages.jl" name="title"/><meta content="Converting to RGB · AstroImages.jl" property="og:title"/><meta content="Converting to RGB · AstroImages.jl" property="twitter:title"/><meta content="Documentation for AstroImages.jl." name="description"/><meta content="Documentation for AstroImages.jl." property="og:description"/><meta content="Documentation for AstroImages.jl." property="twitter:description"/><script data-outdated-warner="" src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script data-main="../../assets/documenter.js" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" data-theme-name="catppuccin-mocha" href="../../assets/themes/catppuccin-mocha.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="catppuccin-macchiato" href="../../assets/themes/catppuccin-macchiato.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="catppuccin-frappe" href="../../assets/themes/catppuccin-frappe.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="catppuccin-latte" href="../../assets/themes/catppuccin-latte.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="documenter-dark" data-theme-primary-dark="" href="../../assets/themes/documenter-dark.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="documenter-light" data-theme-primary="" href="../../assets/themes/documenter-light.css" rel="stylesheet" type="text/css"/><script src="../../assets/themeswap.js"></script><link href="../../assets/theme.css" rel="stylesheet" type="text/css"/><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="https://JuliaAstro.org/AstroImages/stable/manual/converting-to-rgb/" rel="canonical"/><link href="../../../../assets/default/multidoc.css" rel="stylesheet" type="text/css"/><link href="../../../../assets/default/flexsearch.css" rel="stylesheet" type="text/css"/></head><body><nav id="multi-page-nav"><a class="brand" href="../../../.."><img alt="home" src="../../../../assets/logo.svg"/></a><div class="hidden-on-mobile" id="nav-items"><a class="nav-link nav-item" href="../../../../home/">Home</a><div class="nav-dropdown"><button class="nav-item dropdown-label">Domain</button><div class="nav-dropdown-container nav-mega-dropdown-container"><div class="nav-mega-column"><div class="column-header">Solar System</div><ul class="column-content"><a class="nav-link nav-item" href="../../../../CALCEPH/">⬤ CALCEPH</a><a class="nav-link nav-item" href="https://juliaastro.org/EphemerisSources.jl" target="_blank">⬤ EphemerisSources</a><a class="nav-link nav-item" href="https://juliaastro.org/GeneralAstrodynamics.jl" target="_blank">⬤ GeneralAstrodynamics</a><a class="nav-link nav-item" href="https://github.com/PerezHz/HORIZONS.jl?tab=readme-ov-file#horizonsjl" target="_blank">⬤ HORIZONS</a><a class="nav-link nav-item" href="https://juliaspace.github.io/SatelliteToolbox.jl/stable/" target="_blank">⬤ SatelliteToolbox</a><a class="nav-link nav-item" href="../../../../SolarPosition/">⬤ SolarPosition</a><a class="nav-link nav-item" href="../../../../SPICE/">⬤ SPICE</a></ul></div><div class="nav-mega-column"><div class="column-header">Exoplanets</div><ul class="column-content"><a class="nav-link nav-item" href="http://JuliaHCI.github.io/ADI.jl/stable/" target="_blank">⬤ ADI</a><a class="nav-link nav-item" href="http://JuliaHCI.github.io/HCIToolbox.jl/stable/" target="_blank">⬤ HCIToolbox</a><a class="nav-link nav-item" href="../../../../Orbits/">⬤ Orbits</a><a class="nav-link nav-item" href="https://sefffal.github.io/PlanetOrbits.jl/dev/" target="_blank">⬤ PlanetOrbits</a><a class="nav-link nav-item" href="../../../../Transits/">⬤ Transits</a></ul></div><div class="nav-mega-column"><div class="column-header">Stars</div><ul class="column-content"><a class="nav-link nav-item" href="https://cgarling.github.io/BolometricCorrections.jl/stable/" target="_blank">⬤ BolometricCorrections</a><a class="nav-link nav-item" href="https://cgarling.github.io/InitialMassFunctions.jl/stable/" target="_blank">⬤ InitialMassFunctions</a><a class="nav-link nav-item" href="https://cgarling.github.io/StarFormationHistories.jl/stable/" target="_blank">⬤ StarFormationHistories</a></ul></div><div class="nav-mega-column"><div class="column-header">Galaxies and Cosmology</div><ul class="column-content"><a class="nav-link nav-item" href="../../../../Cosmology/">⬤ Cosmology</a><a class="nav-link nav-item" href="../../../../DustExtinction/">⬤ DustExtinction</a><a class="nav-link nav-item" href="https://ehtjulia.github.io/ScatteringOptics.jl/stable/" target="_blank">⬤ ScatteringOptics</a></ul></div></div></div><div class="nav-dropdown"><button class="nav-item dropdown-label">Techniques</button><div class="nav-dropdown-container nav-mega-dropdown-container"><div class="nav-mega-column"><div class="column-header">Photometry</div><ul class="column-content"><a class="nav-link nav-item" href="../../../../CCDReduction/">⬤ CCDReduction</a><a class="nav-link nav-item" href="../../../../LACosmic/">⬤ LACosmic</a><a class="nav-link nav-item" href="../../../../Photometry/">⬤ Photometry</a><a class="nav-link nav-item" href="../../../../PhotometricFilters/">⬤ PhotometricFilters</a><a class="nav-link nav-item" href="../../../../PSFModels/">⬤ PSFModels</a><a class="nav-link nav-item" href="../../../../SAOImageDS9/">⬤ SAOImageDS9</a></ul></div><div class="nav-mega-column"><div class="column-header">Astrometry</div><ul class="column-content"><a class="nav-link nav-item" href="https://barrettp.github.io/Astrometry/dev" target="_blank">⬤ Astrometry</a><a class="nav-link nav-item" href="../../../../AstroTime/">⬤ AstroTime</a><a class="nav-link nav-item" href="../../../../EarthOrientation/">⬤ EarthOrientation</a><a class="nav-link nav-item" href="../../../../ERFA/">◯ ERFA</a><a class="nav-link nav-item" href="../../../../Healpix/">⬤ Healpix</a><a class="nav-link nav-item" href="../../../../Reproject/">⬤ Reproject</a><a class="nav-link nav-item" href="../../../../SkyCoords/">⬤ SkyCoords</a><a class="nav-link nav-item" href="../../../../WCS/">◯ WCS</a></ul></div><div class="nav-mega-column"><div class="column-header">Spectroscopy</div><ul class="column-content"><a class="nav-link nav-item" href="https://ajwheeler.github.io/Korg.jl/stable/" target="_blank">⬤ Korg</a><a class="nav-link nav-item" href="../../../../Spectra/">⬤ Spectra</a><a class="nav-link nav-item" href="../../../../SpectralFitting/">⬤ SpectralFitting</a></ul></div><div class="nav-mega-column"><div class="column-header">Time Series Analysis</div><ul class="column-content"><a class="nav-link nav-item" href="https://docs.juliadsp.org/stable/" target="_blank">⬤ DSP</a><a class="nav-link nav-item" href="../../../../LombScargle/">⬤ LombScargle</a><a class="nav-link nav-item" href="https://juliastats.github.io/TimeSeries.jl/stable" target="_blank">⬤ TimeSeries</a></ul></div><div class="nav-mega-column"><div class="column-header">Interferometry</div><ul class="column-content"><a class="nav-link nav-item" href="https://ptiede.github.io/Comrade.jl/stable/" target="_blank">⬤ Comrade</a><a class="nav-link nav-item" href="https://aplavin.github.io/Difmap.jl/test/examples.html" target="_blank">⬤ Difmap</a><a class="nav-link nav-item" href="https://github.com/emmt/OIFITS.jl?tab=readme-ov-file#support-for-oi-fits-data-in-julia" target="_blank">⬤ OIFITS</a><a class="nav-link nav-item" href="https://fabienbaron.github.io/OITOOLS.jl/dev" target="_blank">⬤ OITOOLS</a><a class="nav-link nav-item" href="https://ehtjulia.github.io/PolarizedTypes.jl/stable/" target="_blank">⬤ PolarizedTypes</a><a class="nav-link nav-item" href="https://aplavin.github.io/VLBIData.jl/test/examples.html" target="_blank">⬤ VLBIData</a><a class="nav-link nav-item" href="https://ehtjulia.github.io/VLBISkyModels.jl/stable/" target="_blank">⬤ VLBISkyModels</a></ul></div></div></div><div class="nav-dropdown"><button class="nav-item dropdown-label">Statistics</button><div class="nav-dropdown-container nav-mega-dropdown-container"><div class="nav-mega-column"><div class="column-header">Uncertainty</div><ul class="column-content"><a class="nav-link nav-item" href="https://juliaphysics.github.io/Measurements.jl/stable/" target="_blank">⬤ Measurements</a><a class="nav-link nav-item" href="https://baggepinnen.github.io/MonteCarloMeasurements.jl/stable/" target="_blank">⬤ MonteCarloMeasurements</a><a class="nav-link nav-item" href="https://baggepinnen.github.io/MonteCarloMeasurements.jl/stable/" target="_blank">⬤ Uncertain</a></ul></div><div class="nav-mega-column"><div class="column-header">Optimization</div><ul class="column-content"><a class="nav-link nav-item" href="../../../../BoxLeastSquares/">⬤ BoxLeastSquares</a><a class="nav-link nav-item" href="http://jump.dev/JuMP.jl/" target="_blank">⬤ JuMP</a><a class="nav-link nav-item" href="https://docs.sciml.ai/NonlinearSolve/stable/" target="_blank">⬤ NonlinearSolve</a><a class="nav-link nav-item" href="https://docs.sciml.ai/Optimization/stable/" target="_blank">⬤ Optimization</a></ul></div><div class="nav-mega-column"><div class="column-header">General</div><ul class="column-content"><a class="nav-link nav-item" href="../../../../AstroLib/">⬤ AstroLib</a><a class="nav-link nav-item" href="http://mileslucas.com/BiweightStats.jl/stable/" target="_blank">⬤ BiweightStats</a><a class="nav-link nav-item" href="https://github.com/jeff-regier/Celeste.jl/wiki/" target="_blank">⬤ Celeste</a><a class="nav-link nav-item" href="https://juliastats.org/" target="_blank">⬤ JuliaStats</a><a class="nav-link nav-item" href="https://juliastats.github.io/Distributions.jl/stable/" target="_blank">⬤ Distributions</a><a class="nav-link nav-item" href="https://ehtjulia.github.io/FastHartleyTransform.jl/stable/" target="_blank">⬤ FastHartleyTransform</a><a class="nav-link nav-item" href="https://sefffal.github.io/Octofitter.jl/dev" target="_blank">⬤ Octofitter</a></ul></div></div></div><div class="nav-dropdown"><button class="nav-item dropdown-label">Utilities</button><div class="nav-dropdown-container nav-mega-dropdown-container"><div class="nav-mega-column"><div class="column-header">Data I/O</div><ul class="column-content"><a class="nav-link nav-item" href="../../../../ASDF2/">⬤ ASDF2</a><a class="nav-link active nav-item" href="../../../">⬤ AstroImages</a><a class="nav-link nav-item" href="../../../../CFITSIO/">◯ CFITSIO</a><a class="nav-link nav-item" href="https://emmt.github.io/EasyFITS.jl/dev" target="_blank">⬤ EasyFITS</a><a class="nav-link nav-item" href="../../../../FITSFiles/">⬤ FITSFiles</a><a class="nav-link nav-item" href="../../../../FITSIO/">◯ FITSIO</a><a class="nav-link nav-item" href="https://github.com/JuliaAPlavin/FixedWidthTables.jl?tab=readme-ov-file#fixedwidthtablesjl" target="_blank">⬤ FixedWidthTables</a><a class="nav-link nav-item" href="https://aplavin.github.io/SkyImages.jl/test/notebook.html" target="_blank">⬤ SkyImages</a><a class="nav-link nav-item" href="https://github.com/JuliaAPlavin/VirtualObservatory.jl?tab=readme-ov-file#virtualobservatoryjl" target="_blank">⬤ VirtualObservatory</a><a class="nav-link nav-item" href="https://github.com/JuliaAPlavin/VOTables.jl" target="_blank">⬤ VOTables</a><a class="nav-link nav-item" href="../../../../XPA/">⬤ XPA</a></ul></div><div class="nav-mega-column"><div class="column-header">Data processing</div><ul class="column-content"><a class="nav-link nav-item" href="../../../../Astroalign/">⬤ Astroalign</a><a class="nav-link nav-item" href="../../../../BackgroundMeshes/">⬤ BackgroundMeshes</a><a class="nav-link nav-item" href="https://github.com/torrance/Casacore.jl?tab=readme-ov-file#casacorejl" target="_blank">⬤ Casacore</a><a class="nav-link nav-item" href="https://dataframes.juliadata.org/stable/" target="_blank">⬤ DataFrames</a><a class="nav-link nav-item" href="https://rafaqz.github.io/DimensionalData.jl/stable/" target="_blank">⬤ DimensionalData</a><a class="nav-link nav-item" href="https://aplavin.github.io/FlexiJoins.jl/test/examples.html" target="_blank">⬤ FlexiJoins</a><a class="nav-link nav-item" href="https://github.com/gcalderone/SortMerge.jl?tab=readme-ov-file#sortmerge" target="_blank">⬤ SortMerge</a></ul></div><div class="nav-mega-column"><div class="column-header">Data Viz</div><ul class="column-content"><a class="nav-link active nav-item" href="../../../">⬤ AstroImages</a><a class="nav-link nav-item" href="https://juliaimages.github.io/ImageFiltering.jl/stable" target="_blank">⬤ ImageFiltering</a><a class="nav-link nav-item" href="https://manuelbehrendt.github.io/Mera.jl/stable/" target="_blank">⬤ Mera</a><a class="nav-link nav-item" href="https://sefffal.github.io/PairPlots.jl/dev/" target="_blank">⬤ PairPlots</a><a class="nav-link nav-item" href="https://aplavin.github.io/SkyImages.jl/test/notebook.html" target="_blank">⬤ SkyImages</a></ul></div><div class="nav-mega-column"><div class="column-header">Units/Constants</div><ul class="column-content"><a class="nav-link nav-item" href="../../../../AstroAngles/">⬤ AstroAngles</a><a class="nav-link nav-item" href="https://symbolicml.org/DynamicQuantities.jl/stable/" target="_blank">⬤ DynamicQuantities</a><a class="nav-link nav-item" href="https://juliaphysics.github.io/PhysicalConstants.jl/stable/" target="_blank">⬤ PhysicalConstants</a><a class="nav-link nav-item" href="https://painterqubits.github.io/Unitful.jl/stable" target="_blank">⬤ Unitful</a><a class="nav-link nav-item" href="../../../../UnitfulAstro/">⬤ UnitfulAstro</a></ul></div></div></div><div class="search nav-item"><input id="search-input" placeholder="Search everywhere..."/><ul class="suggestions hidden" id="search-result-container"></ul><div class="search-keybinding">/</div></div></div><button id="multidoc-toggler"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg></button></nav><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img alt="AstroImages.jl logo" src="../../assets/logo.png"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">AstroImages.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../getting-started/">Getting Started</a></li><li><a class="tocitem" href="../loading-images/">Loading &amp; Saving Images</a></li><li><a class="tocitem" href="../displaying-images/">Displaying Images</a></li><li><a class="tocitem" href="../array/">Array Operations</a></li><li><a class="tocitem" href="../headers/">Headers</a></li><li><a class="tocitem" href="../dimensions-and-world-coordinates/">Dimensions and World Coordinates</a></li><li><a class="tocitem" href="../polarization/">Polarization</a></li><li><a class="tocitem" href="../spec/">Spectral Axes</a></li><li><a class="tocitem" href="../preserving-wrapper/">Preserving Wrapper</a></li><li><a class="tocitem" href="../conventions/">Conventions</a></li><li class="is-active"><a class="tocitem" href="">Converting to RGB</a><ul class="internal"><li><a class="tocitem" href="#Using-composecolors"><span>Using <code>composecolors</code></span></a></li></ul></li><li><a class="tocitem" href="../converting-from-rgb/">Converting from RGB</a></li></ul></li><li><span class="tocitem">Guides</span><ul><li><a class="tocitem" href="../../guide/image-filtering/">Blurring &amp; Filtering Images</a></li><li><a class="tocitem" href="../../guide/image-transformations/">Transforming Images</a></li><li><a class="tocitem" href="../../guide/reproject/">Reprojecting Images</a></li><li><a class="tocitem" href="../../guide/photometry/">Extracting Photometry</a></li><li><a class="tocitem" href="../../guide/contours/">Plotting Contours</a></li></ul></li><li><a class="tocitem" href="../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" href="#" id="documenter-sidebar-button"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href="">Converting to RGB</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="">Converting to RGB</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaAstro/AstroImages.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaAstro/AstroImages.jl/blob/master/docs/src/manual/converting-to-rgb.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" href="#" id="documenter-settings-button" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" href="javascript:;" id="documenter-article-toggle-button" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Converting-to-RGB"><a class="docs-heading-anchor" href="#Converting-to-RGB">Converting to RGB</a><a id="Converting-to-RGB-1"></a><a class="docs-heading-anchor-permalink" href="#Converting-to-RGB" title="Permalink"></a></h1><p>If you have two or more images of the same scene taken at different wavelengths, you may wish to combine them to create a colour composite.</p><p>For ultimate control, you can do this manually using <code>imview</code>. Simply map your channels to <code>RGB</code> values using <code>imview</code> and then sum the results.</p><p>For convenience, AstroImages.jl provides the function <a href="../../api/#AstroImages.composecolors"><code>composecolors</code></a>.</p><h2 id="Using-composecolors"><a class="docs-heading-anchor" href="#Using-composecolors">Using <code>composecolors</code></a><a id="Using-composecolors-1"></a><a class="docs-heading-anchor-permalink" href="#Using-composecolors" title="Permalink"></a></h2><p>We'll demonstrate <code>composecolors</code> using Hubble images of the Antenae colliding galaxies.</p><p>One can be very scientific about this process, but often the goal of producing color composites is aesthetic or about highlighting certain features for public consumption.</p><p>I'll set the default color map to grayscale to avoid confusion.</p><pre><code class="language-julia hljs">using AstroImages

AstroImages.set_cmap!(nothing)</code></pre><p>Let's start by downloading the separate color channel FITS files:</p><pre><code class="language-julia hljs"># We crop some of the images a bit to help align them with the other color channels
antred = AstroImage(download("https://esahubble.org/static/projects/fits_liberator/datasets/antennae/red.fits"))[:, begin+14:end]</code></pre><img alt="Example block output" src="2dd41572.png"/><pre><code class="language-julia hljs">antgreen = AstroImage(download("https://esahubble.org/static/projects/fits_liberator/datasets/antennae/green.fits"))</code></pre><img alt="Example block output" src="30a57acb.png"/><pre><code class="language-julia hljs">antblue = AstroImage(download("https://esahubble.org/static/projects/fits_liberator/datasets/antennae/blue.fits"))[:, begin+14:end]</code></pre><img alt="Example block output" src="f957fcf8.png"/><pre><code class="language-julia hljs">anthalph = AstroImage(download("https://esahubble.org/static/projects/fits_liberator/datasets/antennae/hydrogen.fits"))[:, begin+14:end]; # Hydrogen-Alpha; we'll revisit later</code></pre><img alt="Example block output" src="0c9242f6.png"/><p>In order to compose these images, we'll have to match the relative intensity scales and clip outlying values. Thankfully, <code>composecolors</code> handles most of these details automatically.</p><pre><code class="language-julia hljs">rgb1 = composecolors([antred, antgreen, antblue])</code></pre><img alt="Example block output" src="595a74af.png"/><p>It's a start!</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>For best results, the images should be properly aligned and cropped to the same size before making a color composite. The simple cropping we did here is just for demonstration purposes.</p></div></div><p>By default, if you provide three images these are mapped to the color channels red, green, and blue. The intensities are limited to <code>Percent(99.5)</code>.</p><p>We can now tweak these defaults to our tastes. We could try clamping the intensities more agressively to bring out more of the galaxy structure:</p><pre><code class="language-julia hljs">rgb2 = composecolors(
    [antred, antgreen, antblue],
    clims=Percent(97)
)</code></pre><img alt="Example block output" src="870c63b7.png"/><p>This looks okay but saturates the galaxy cores.</p><p>Let's take care of that gash through the image by just blanking it out.</p><pre><code class="language-julia hljs">mask = antgreen .== antgreen[end,begin]
# remove holes in the mask
using ImageFiltering, Statistics
mask = BitMatrix(mapwindow(median, mask, (3,3)))
imview(mask)</code></pre><img src="data:image/png;base64,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"/><pre><code class="language-julia hljs">antred[mask] .= NaN
antgreen[mask] .= NaN
antblue[mask] .= NaN
anthalph[mask] .= NaN</code></pre><p>Typically we need to perform a "gamma correction" aka non-lienar stretch to map the wide dynamic range of astronomical images into a narrower human visible range. We can do this using the <code>stretch</code> keyword. An <code>asinhstretch</code> is typically recommended when preparing RGB images:</p><pre><code class="language-julia hljs">rgb3 = composecolors(
    [antred, antgreen, antblue],
    stretch=asinhstretch
)</code></pre><img alt="Example block output" src="df6df63f.png"/><p>Keywords like <code>strech</code>, <code>clims</code>, etc can be either a single value for all channels or a list of separate values/functions per channel.</p><p>The green channel appears to be quite faint compared to the red and blue channels. We can modify that by adjusting the relative intensities of the channels.</p><p>We could also do this using a combination of the <code>contrast</code> and <code>bias</code> keywords.</p><pre><code class="language-julia hljs">rgb4 = composecolors(
    [antred, antgreen, antblue],
    stretch=asinhstretch,
    multiplier=[1,1.7,1]
)</code></pre><img alt="Example block output" src="4712be86.png"/><p>That's better! Let's go one step further, and incorporate a fourth chanel: Hydrogen Alpha. Hydrogen Alpha is a narrow filter centered around one of the emission lines of Hydrogen atoms. It traces locations with hot gas; mostly star-formation regions in this case.</p><pre><code class="language-julia hljs">imview(anthalph, cmap=:magma, clims=Zscale())</code></pre><img alt="Example block output" src="9fd2678d.png"/><p>We'll now need to specify the color channels we want to use for each wavelength since we can't use just the default three RGB. We can use any named color or julia ColorScheme.</p><pre><code class="language-julia hljs">rgb5 = composecolors(
    [antred, antgreen, antblue, anthalph],
    ["red", "green", "blue", "maroon1"],
    stretch=asinhstretch,
    multiplier=[1,1.7,1,0.8]
)</code></pre><img alt="Example block output" src="5cd658e7.png"/><p>Additionally, I'd like to just show the brightest areas of Hydrogen alpha emission rather than adding a diffuse pink glow. We can turn off the stretch for this one channel:</p><pre><code class="language-julia hljs">rgb6 = composecolors(
    [antred, antgreen, antblue, anthalph],
    ["red", "green", "blue", "maroon1"],
    stretch=[
        asinhstretch,
        asinhstretch,
        asinhstretch,
        identity,
    ],
    multiplier=[1,1.7,1,0.8]
)</code></pre><img alt="Example block output" src="fd8b92b7.png"/><p>Finally, we can crop the image and save it as a PNG.</p><pre><code class="language-julia hljs">crop = rgb6[200:end-100,50:end-50]</code></pre><img alt="Example block output" src="328ebf5c.png"/><pre><code class="language-julia hljs">save("antenae-composite.png", crop)</code></pre><p>If you want to save it in a format like <code>JPG</code> that doesn't support transparent pixels, you could replace the masked area with zeros instead of <code>NaN</code>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../conventions/">« Conventions</a><a class="docs-footer-nextpage" href="../converting-from-rgb/">Converting from RGB »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label></p><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div><p></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.2 on <span class="colophon-date" title="Wednesday 7 May 2025 15:21">Wednesday 7 May 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></HTML>