<!DOCTYPE html><HTML lang="en"><head><script charset="utf-8" src="../../../../assets/default/multidoc_injector.js" type="text/javascript"></script><script charset="utf-8" type="text/javascript">window.MULTIDOCUMENTER_ROOT_PATH = '/'</script><script charset="utf-8" src="../../../../assets/default/flexsearch.bundle.js" type="text/javascript"></script><script charset="utf-8" src="../../../../assets/default/flexsearch_integration.js" type="text/javascript"></script><meta charset="UTF-8"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><title>XSPEC models · SpectralFitting.jl</title><meta content="XSPEC models · SpectralFitting.jl" name="title"/><meta content="XSPEC models · SpectralFitting.jl" property="og:title"/><meta content="XSPEC models · SpectralFitting.jl" property="twitter:title"/><meta content="Documentation for SpectralFitting.jl." name="description"/><meta content="Documentation for SpectralFitting.jl." property="og:description"/><meta content="Documentation for SpectralFitting.jl." property="twitter:description"/><script data-outdated-warner="" src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script data-main="../../assets/documenter.js" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" data-theme-name="catppuccin-mocha" href="../../assets/themes/catppuccin-mocha.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="catppuccin-macchiato" href="../../assets/themes/catppuccin-macchiato.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="catppuccin-frappe" href="../../assets/themes/catppuccin-frappe.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="catppuccin-latte" href="../../assets/themes/catppuccin-latte.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="documenter-dark" data-theme-primary-dark="" href="../../assets/themes/documenter-dark.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="documenter-light" data-theme-primary="" href="../../assets/themes/documenter-light.css" rel="stylesheet" type="text/css"/><script src="../../assets/themeswap.js"></script><link href="https://JuliaAstro.org/SpectralFitting/stable/models/xspec-models/" rel="canonical"/><link href="../../../../assets/default/multidoc.css" rel="stylesheet" type="text/css"/><link href="../../../../assets/default/flexsearch.css" rel="stylesheet" type="text/css"/></head><body><nav id="multi-page-nav"><a class="brand" href="../../../.."><img alt="home" src="../../../../assets/logo.svg"/></a><div class="hidden-on-mobile" id="nav-items"><a class="nav-link nav-item" href="../../../../home/">Home</a><div class="nav-dropdown"><button class="nav-item dropdown-label">Domain</button><div class="nav-dropdown-container nav-mega-dropdown-container"><div class="nav-mega-column"><div class="column-header">Solar System</div><ul class="column-content"><a class="nav-link nav-item" href="../../../../CALCEPH/">⬤ CALCEPH</a><a class="nav-link nav-item" href="https://juliaastro.org/EphemerisSources.jl" target="_blank">⬤ EphemerisSources</a><a class="nav-link nav-item" href="https://juliaastro.org/GeneralAstrodynamics.jl" target="_blank">⬤ GeneralAstrodynamics</a><a class="nav-link nav-item" href="https://github.com/PerezHz/HORIZONS.jl?tab=readme-ov-file#horizonsjl" target="_blank">⬤ HORIZONS</a><a class="nav-link nav-item" href="https://juliaspace.github.io/SatelliteToolbox.jl/stable/" target="_blank">⬤ SatelliteToolbox</a><a class="nav-link nav-item" href="../../../../SolarPosition/">⬤ SolarPosition</a><a class="nav-link nav-item" href="../../../../SPICE/">⬤ SPICE</a></ul></div><div class="nav-mega-column"><div class="column-header">Exoplanets</div><ul class="column-content"><a class="nav-link nav-item" href="http://JuliaHCI.github.io/ADI.jl/stable/" target="_blank">⬤ ADI</a><a class="nav-link nav-item" href="http://JuliaHCI.github.io/HCIToolbox.jl/stable/" target="_blank">⬤ HCIToolbox</a><a class="nav-link nav-item" href="../../../../Orbits/">⬤ Orbits</a><a class="nav-link nav-item" href="https://sefffal.github.io/PlanetOrbits.jl/dev/" target="_blank">⬤ PlanetOrbits</a><a class="nav-link nav-item" href="../../../../Transits/">⬤ Transits</a></ul></div><div class="nav-mega-column"><div class="column-header">Stars</div><ul class="column-content"><a class="nav-link nav-item" href="https://cgarling.github.io/BolometricCorrections.jl/stable/" target="_blank">⬤ BolometricCorrections</a><a class="nav-link nav-item" href="https://cgarling.github.io/InitialMassFunctions.jl/stable/" target="_blank">⬤ InitialMassFunctions</a><a class="nav-link nav-item" href="https://cgarling.github.io/StarFormationHistories.jl/stable/" target="_blank">⬤ StarFormationHistories</a></ul></div><div class="nav-mega-column"><div class="column-header">Galaxies and Cosmology</div><ul class="column-content"><a class="nav-link nav-item" href="https://xzackli.github.io/Bolt.jl/" target="_blank">⬤ Bolt</a><a class="nav-link nav-item" href="https://github.com/hersle/CLASS.jl?tab=readme-ov-file#classjl" target="_blank">⬤ CLASS</a><a class="nav-link nav-item" href="../../../../Cosmology/">⬤ Cosmology</a><a class="nav-link nav-item" href="../../../../DustExtinction/">⬤ DustExtinction</a><a class="nav-link nav-item" href="https://ehtjulia.github.io/ScatteringOptics.jl/stable/" target="_blank">⬤ ScatteringOptics</a><a class="nav-link nav-item" href="https://hersle.github.io/SymBoltz.jl/stable/" target="_blank">⬤ SymBoltz</a></ul></div></div></div><div class="nav-dropdown"><button class="nav-item dropdown-label">Techniques</button><div class="nav-dropdown-container nav-mega-dropdown-container"><div class="nav-mega-column"><div class="column-header">Photometry</div><ul class="column-content"><a class="nav-link nav-item" href="../../../../CCDReduction/">⬤ CCDReduction</a><a class="nav-link nav-item" href="../../../../LACosmic/">⬤ LACosmic</a><a class="nav-link nav-item" href="../../../../Photometry/">⬤ Photometry</a><a class="nav-link nav-item" href="../../../../PhotometricFilters/">⬤ PhotometricFilters</a><a class="nav-link nav-item" href="../../../../PSFModels/">⬤ PSFModels</a><a class="nav-link nav-item" href="../../../../SAOImageDS9/">⬤ SAOImageDS9</a></ul></div><div class="nav-mega-column"><div class="column-header">Astrometry</div><ul class="column-content"><a class="nav-link nav-item" href="https://barrettp.github.io/Astrometry/dev" target="_blank">⬤ Astrometry</a><a class="nav-link nav-item" href="../../../../AstroTime/">⬤ AstroTime</a><a class="nav-link nav-item" href="../../../../EarthOrientation/">⬤ EarthOrientation</a><a class="nav-link nav-item" href="../../../../ERFA/">◯ ERFA</a><a class="nav-link nav-item" href="../../../../Healpix/">⬤ Healpix</a><a class="nav-link nav-item" href="../../../../Reproject/">⬤ Reproject</a><a class="nav-link nav-item" href="../../../../SkyCoords/">⬤ SkyCoords</a><a class="nav-link nav-item" href="../../../../WCS/">◯ WCS</a></ul></div><div class="nav-mega-column"><div class="column-header">Spectroscopy</div><ul class="column-content"><a class="nav-link nav-item" href="https://ajwheeler.github.io/Korg.jl/stable/" target="_blank">⬤ Korg</a><a class="nav-link nav-item" href="../../../../Spectra/">⬤ Spectra</a><a class="nav-link active nav-item" href="../../../">⬤ SpectralFitting</a></ul></div><div class="nav-mega-column"><div class="column-header">Time Series Analysis</div><ul class="column-content"><a class="nav-link nav-item" href="https://docs.juliadsp.org/stable/" target="_blank">⬤ DSP</a><a class="nav-link nav-item" href="../../../../LombScargle/">⬤ LombScargle</a><a class="nav-link nav-item" href="https://juliastats.github.io/TimeSeries.jl/stable" target="_blank">⬤ TimeSeries</a></ul></div><div class="nav-mega-column"><div class="column-header">Interferometry</div><ul class="column-content"><a class="nav-link nav-item" href="https://ptiede.github.io/Comrade.jl/stable/" target="_blank">⬤ Comrade</a><a class="nav-link nav-item" href="https://aplavin.github.io/Difmap.jl/test/examples.html" target="_blank">⬤ Difmap</a><a class="nav-link nav-item" href="https://github.com/emmt/OIFITS.jl?tab=readme-ov-file#support-for-oi-fits-data-in-julia" target="_blank">⬤ OIFITS</a><a class="nav-link nav-item" href="https://fabienbaron.github.io/OITOOLS.jl/dev" target="_blank">⬤ OITOOLS</a><a class="nav-link nav-item" href="https://ehtjulia.github.io/PolarizedTypes.jl/stable/" target="_blank">⬤ PolarizedTypes</a><a class="nav-link nav-item" href="https://aplavin.github.io/VLBIData.jl/test/examples.html" target="_blank">⬤ VLBIData</a><a class="nav-link nav-item" href="https://ehtjulia.github.io/VLBISkyModels.jl/stable/" target="_blank">⬤ VLBISkyModels</a></ul></div></div></div><div class="nav-dropdown"><button class="nav-item dropdown-label">Statistics</button><div class="nav-dropdown-container nav-mega-dropdown-container"><div class="nav-mega-column"><div class="column-header">Uncertainty</div><ul class="column-content"><a class="nav-link nav-item" href="https://juliaphysics.github.io/Measurements.jl/stable/" target="_blank">⬤ Measurements</a><a class="nav-link nav-item" href="https://baggepinnen.github.io/MonteCarloMeasurements.jl/stable/" target="_blank">⬤ MonteCarloMeasurements</a><a class="nav-link nav-item" href="https://baggepinnen.github.io/MonteCarloMeasurements.jl/stable/" target="_blank">⬤ Uncertain</a></ul></div><div class="nav-mega-column"><div class="column-header">Optimization</div><ul class="column-content"><a class="nav-link nav-item" href="../../../../BoxLeastSquares/">⬤ BoxLeastSquares</a><a class="nav-link nav-item" href="http://jump.dev/JuMP.jl/" target="_blank">⬤ JuMP</a><a class="nav-link nav-item" href="https://docs.sciml.ai/NonlinearSolve/stable/" target="_blank">⬤ NonlinearSolve</a><a class="nav-link nav-item" href="https://docs.sciml.ai/Optimization/stable/" target="_blank">⬤ Optimization</a></ul></div><div class="nav-mega-column"><div class="column-header">General</div><ul class="column-content"><a class="nav-link nav-item" href="../../../../AstroLib/">⬤ AstroLib</a><a class="nav-link nav-item" href="http://mileslucas.com/BiweightStats.jl/stable/" target="_blank">⬤ BiweightStats</a><a class="nav-link nav-item" href="https://github.com/jeff-regier/Celeste.jl/wiki/" target="_blank">⬤ Celeste</a><a class="nav-link nav-item" href="https://juliastats.org/" target="_blank">⬤ JuliaStats</a><a class="nav-link nav-item" href="https://juliastats.github.io/Distributions.jl/stable/" target="_blank">⬤ Distributions</a><a class="nav-link nav-item" href="https://ehtjulia.github.io/FastHartleyTransform.jl/stable/" target="_blank">⬤ FastHartleyTransform</a><a class="nav-link nav-item" href="https://sefffal.github.io/Octofitter.jl/dev" target="_blank">⬤ Octofitter</a></ul></div></div></div><div class="nav-dropdown"><button class="nav-item dropdown-label">Utilities</button><div class="nav-dropdown-container nav-mega-dropdown-container"><div class="nav-mega-column"><div class="column-header">Data I/O</div><ul class="column-content"><a class="nav-link nav-item" href="../../../../ASDF2/">⬤ ASDF2</a><a class="nav-link nav-item" href="../../../../AstroImages/">⬤ AstroImages</a><a class="nav-link nav-item" href="../../../../CFITSIO/">◯ CFITSIO</a><a class="nav-link nav-item" href="https://emmt.github.io/EasyFITS.jl/dev" target="_blank">⬤ EasyFITS</a><a class="nav-link nav-item" href="../../../../FITSFiles/">⬤ FITSFiles</a><a class="nav-link nav-item" href="../../../../FITSIO/">◯ FITSIO</a><a class="nav-link nav-item" href="https://github.com/JuliaAPlavin/FixedWidthTables.jl?tab=readme-ov-file#fixedwidthtablesjl" target="_blank">⬤ FixedWidthTables</a><a class="nav-link nav-item" href="https://aplavin.github.io/SkyImages.jl/test/notebook.html" target="_blank">⬤ SkyImages</a><a class="nav-link nav-item" href="https://github.com/JuliaAPlavin/VirtualObservatory.jl?tab=readme-ov-file#virtualobservatoryjl" target="_blank">⬤ VirtualObservatory</a><a class="nav-link nav-item" href="https://github.com/JuliaAPlavin/VOTables.jl" target="_blank">⬤ VOTables</a><a class="nav-link nav-item" href="../../../../XPA/">⬤ XPA</a></ul></div><div class="nav-mega-column"><div class="column-header">Data processing</div><ul class="column-content"><a class="nav-link nav-item" href="../../../../Astroalign/">⬤ Astroalign</a><a class="nav-link nav-item" href="../../../../BackgroundMeshes/">⬤ BackgroundMeshes</a><a class="nav-link nav-item" href="https://github.com/torrance/Casacore.jl?tab=readme-ov-file#casacorejl" target="_blank">⬤ Casacore</a><a class="nav-link nav-item" href="https://dataframes.juliadata.org/stable/" target="_blank">⬤ DataFrames</a><a class="nav-link nav-item" href="https://rafaqz.github.io/DimensionalData.jl/stable/" target="_blank">⬤ DimensionalData</a><a class="nav-link nav-item" href="https://aplavin.github.io/FlexiJoins.jl/test/examples.html" target="_blank">⬤ FlexiJoins</a><a class="nav-link nav-item" href="https://github.com/gcalderone/SortMerge.jl?tab=readme-ov-file#sortmerge" target="_blank">⬤ SortMerge</a></ul></div><div class="nav-mega-column"><div class="column-header">Data Viz</div><ul class="column-content"><a class="nav-link nav-item" href="../../../../AstroImages/">⬤ AstroImages</a><a class="nav-link nav-item" href="https://juliaimages.github.io/ImageFiltering.jl/stable" target="_blank">⬤ ImageFiltering</a><a class="nav-link nav-item" href="https://manuelbehrendt.github.io/Mera.jl/stable/" target="_blank">⬤ Mera</a><a class="nav-link nav-item" href="https://sefffal.github.io/PairPlots.jl/dev/" target="_blank">⬤ PairPlots</a><a class="nav-link nav-item" href="https://aplavin.github.io/SkyImages.jl/test/notebook.html" target="_blank">⬤ SkyImages</a></ul></div><div class="nav-mega-column"><div class="column-header">Units/Constants</div><ul class="column-content"><a class="nav-link nav-item" href="../../../../AstroAngles/">⬤ AstroAngles</a><a class="nav-link nav-item" href="https://symbolicml.org/DynamicQuantities.jl/stable/" target="_blank">⬤ DynamicQuantities</a><a class="nav-link nav-item" href="https://juliaphysics.github.io/PhysicalConstants.jl/stable/" target="_blank">⬤ PhysicalConstants</a><a class="nav-link nav-item" href="https://painterqubits.github.io/Unitful.jl/stable" target="_blank">⬤ Unitful</a><a class="nav-link nav-item" href="../../../../UnitfulAstro/">⬤ UnitfulAstro</a></ul></div></div></div><div class="search nav-item"><input id="search-input" placeholder="Search everywhere..."/><ul class="suggestions hidden" id="search-result-container"></ul><div class="search-keybinding">/</div></div></div><button id="multidoc-toggler"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg></button></nav><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img alt="SpectralFitting.jl logo" src="../../assets/logo.svg"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">SpectralFitting.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../walkthrough/">Walkthrough</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../examples/examples/">Diverse examples</a></li><li><a class="tocitem" href="../../examples/sherpa-example/">A quick guide</a></li></ul></li><li><span class="tocitem">Fitting</span><ul><li><a class="tocitem" href="../../parameters/">Parameters</a></li></ul></li><li><span class="tocitem">Models</span><ul><li><a class="tocitem" href="../using-models/">Using models</a></li><li><a class="tocitem" href="../models/">Model index</a></li><li><a class="tocitem" href="../composite-models/">Composite models</a></li><li><a class="tocitem" href="../wrapper-models/">Wrapper models</a></li><li><a class="tocitem" href="../surrogate-models/">Surrogate models</a></li><li class="is-active"><a class="tocitem" href="">XSPEC models</a><ul class="internal"><li><a class="tocitem" href="#Additive"><span>Additive</span></a></li></ul></li></ul></li><li><span class="tocitem">Datasets</span><ul><li><a class="tocitem" href="../../datasets/datasets/">Using datasets</a></li><li><a class="tocitem" href="../../datasets/mission-support/">Mission support</a></li></ul></li><li><a class="tocitem" href="../../why-and-how/">Why &amp; How</a></li><li><a class="tocitem" href="../../reference/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" href="#" id="documenter-sidebar-button"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Models</a></li><li class="is-active"><a href="">XSPEC models</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="">XSPEC models</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaAstro/SpectralFitting.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaAstro/SpectralFitting.jl/blob/main/docs/src/models/xspec-models.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" href="#" id="documenter-settings-button" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" href="javascript:;" id="documenter-article-toggle-button" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="XSPEC-models"><a class="docs-heading-anchor" href="#XSPEC-models">XSPEC models</a><a id="XSPEC-models-1"></a><a class="docs-heading-anchor-permalink" href="#XSPEC-models" title="Permalink"></a></h1><p>SpectralFitting can vendor the XSPEC model library through the utility package XSPECModels.jl. You can install this package directly from the University of Bristol's <a href="https://github.com/astro-group-bristol/AstroRegistry">AstroRegistry</a>:</p><pre><code class="language-julia hljs">pkg&gt; registry add https://github.com/astro-group-bristol/AstroRegistry
pkg&gt; add XSPECModels</code></pre><p>Using the package is straight forward once installed:</p><pre><code class="language-julia hljs">using SpectralFitting, XSPECModels</code></pre><div class="admonition is-info" id="Note-a688ca765e96dc81"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-a688ca765e96dc81" title="Permalink"></a></header><div class="admonition-body"><p>The convention is that models that have are imported from XSPEC or have XSPEC ABI are prefixed with <code>XS_</code> in their name. For example, the XSPEC equivalent of <a href="../models/#SpectralFitting.PowerLaw"><code>PowerLaw</code></a> is <a href="#XSPECModels.XS_PowerLaw"><code>XS_PowerLaw</code></a>.</p></div></div><p>The XSPEC models are wrapped into SpectralFitting models using the [<code>@xspecmodel</code>] macro. If a model you require is not already wrapped, this macro will make that easy to do. Please consider upstreaming your wrapper via a PR to the SpectralFitting GitHub repository.</p><article><details class="docstring" open="true"><summary id="XSPECModels.@xspecmodel"><a class="docstring-binding" href="#XSPECModels.@xspecmodel"><code>XSPECModels.@xspecmodel</code></a> — <span class="docstring-category">Macro</span></summary><section><div><pre><code class="language-julia hljs">@xspecmodel [type=Float64] [ff_call_site] model</code></pre><p>Used to wrap additional XSPEC models, generating the needed <a href="../using-models/#SpectralFitting.AbstractSpectralModel"><code>AbstractSpectralModel</code></a> implementation.</p><p>The <code>type</code> keyword specifies the underlying type to coerce input and output arrays to, as different implementations may have incompatible number of bits. The <code>ff_call_site</code> is the foreign fuction call site, which is the first argument to <code>ccall</code>, and follows the same conventions. The <code>model</code> is a struct, which must subtype <a href="../using-models/#SpectralFitting.AbstractSpectralModel"><code>AbstractSpectralModel</code></a>.</p><p>If the callsite is not specified, the user must implement <a href="@ref"><code>_unsafe_ffi_invoke!</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">@xspecmodel :C_powerlaw struct XS_PowerLaw{T} &lt;: AbstractSpectralModel{T, Additive}
    "Normalisation."
    K::T
    "Photon index."
    a::T
end

# constructor has default values
function XS_PowerLaw(; K = FitParam(1.0), a = FitParam(1.0))
    XS_PowerLaw{typeof(K)}(K, a)
end</code></pre><p>We define a new structure <code>XS_PowerLaw</code> with two parameters, but since the model is <a href="@ref"><code>Additive</code></a>, only a single parameter (<code>a</code>) is passed to the XSPEC function. The function we bind to this model is <code>:C_powerlaw</code> from the XSPEC C wrappers.</p><p>The macro will then generate the following functions</p><ul><li><a href="../using-models/#SpectralFitting.implementation"><code>implementation</code></a></li><li><a href="@ref"><code>invoke!</code></a></li><li><a href="@ref"><code>_safe_ffi_invoke!</code></a></li></ul><p>If a callsite was specified, it will also generate:</p><ul><li><a href="@ref"><code>_unsafe_ffi_invoke!</code></a></li></ul></div><a class="docs-sourcelink" href="https://github.com/JuliaAstro/SpectralFitting.jl/blob/e83fbafcb10d79e59fbd3d8ac780f009568e0aa3/lib/XSPECModels/src/ccall-wrapper.jl#L122-L162" target="_blank">source</a></section></details></article><p>XSPEC models frequently have tabular data dependencies, without which the models fail to invoke (see <a href="../using-models/#Model-data-availability">Model data availability</a>). If the data files are known but not present, the XSPEC models will throw an error with instructions for downloading the missing data. If the data files are unknown, Julia may crash catastrophically. If this is the case, often a single line will be printed with the LibXSPEC error, specifying the name of the missing source file. This can be registered as a data dependency of a model using <a href="../models/#SpectralFitting.register_model_data"><code>SpectralFitting.register_model_data</code></a>.</p><p>The first time any XSPEC model is invoked, SpectralFitting checks to see whether requisite data is needed, and whether the data is downloaded. Subsequent calls will hit a lookup cache instead to avoid run-time costs of performing this check.</p><h2 id="Additive"><a class="docs-heading-anchor" href="#Additive">Additive</a><a id="Additive-1"></a><a class="docs-heading-anchor-permalink" href="#Additive" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="XSPECModels.XS_PowerLaw"><a class="docstring-binding" href="#XSPECModels.XS_PowerLaw"><code>XSPECModels.XS_PowerLaw</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">XS_PowerLaw(K, a)</code></pre><ul><li><p><code>K</code>: Normalisation.</p></li><li><p><code>a</code>: Photon index.</p></li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">energy = collect(range(0.1, 20.0, 100))
invokemodel(energy, XS_PowerLaw())</code></pre><pre><code class="language-julia hljs">                      XS_PowerLaw
       ┌────────────────────────────────────────┐
   0.5 │                                        │
       │:                                       │
       │:                                       │
       │:                                       │
       │:                                       │
       │:                                       │
       │:                                       │
       │ :                                      │
       │ :                                      │
       │  :                                     │
       │   :.                                   │
       │    ':..                                │
       │        ''':......                      │
       │                  ''''''''''''''........│
     0 │                                        │
       └────────────────────────────────────────┘
        0                                     20
                         E (keV)</code></pre></div><a class="docs-sourcelink" href="https://github.com/JuliaAstro/SpectralFitting.jl/blob/e83fbafcb10d79e59fbd3d8ac780f009568e0aa3/lib/XSPECModels/src/additive.jl#L1-L35" target="_blank">source</a></section></details></article><article><details class="docstring" open="true"><summary id="XSPECModels.XS_BlackBody"><a class="docstring-binding" href="#XSPECModels.XS_BlackBody"><code>XSPECModels.XS_BlackBody</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">XS_BlackBody(K, T)</code></pre><ul><li><p><code>K</code>: Normalisation.</p></li><li><p><code>T</code>: Temperature (keV).</p></li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">energy = collect(range(0.1, 20.0, 100))
invokemodel(energy, XS_BlackBody())</code></pre><pre><code class="language-julia hljs">                      XS_BlackBody
       ┌────────────────────────────────────────┐
   0.2 │                                        │
       │                                        │
       │                                        │
       │                                        │
       │                                        │
       │                                        │
       │      .:''':..                          │
       │    .:       ''.                        │
       │   .'           ':.                     │
       │   :              ''..                  │
       │  :                  ':.                │
       │ :                     '':.             │
       │.:                         ''..         │
       │:                              '':....  │
     0 │'                                    '''│
       └────────────────────────────────────────┘
        0                                     20
                         E (keV)</code></pre></div><a class="docs-sourcelink" href="https://github.com/JuliaAstro/SpectralFitting.jl/blob/e83fbafcb10d79e59fbd3d8ac780f009568e0aa3/lib/XSPECModels/src/additive.jl#L103-L137" target="_blank">source</a></section></details></article><article><details class="docstring" open="true"><summary id="XSPECModels.XS_BremsStrahlung"><a class="docstring-binding" href="#XSPECModels.XS_BremsStrahlung"><code>XSPECModels.XS_BremsStrahlung</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">XS_BremsStrahlung(K, T)</code></pre><ul><li><p><code>K</code>: Normalisation.</p></li><li><p><code>T</code>: Plasma temperature (keV).</p></li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">energy = collect(range(0.1, 20.0, 100))
invokemodel(energy, XS_BremsStrahlung())</code></pre><pre><code class="language-julia hljs">                  XS_BremsStrahlung
     ┌────────────────────────────────────────┐
   2 │                                        │
     │.                                       │
     │:                                       │
     │:                                       │
     │:                                       │
     │:                                       │
     │:                                       │
     │:                                       │
     │:                                       │
     │:                                       │
     │:                                       │
     │:                                       │
     │'.                                      │
     │ :                                      │
   0 │  ':....................................│
     └────────────────────────────────────────┘
      0                                     20
                       E (keV)</code></pre></div><a class="docs-sourcelink" href="https://github.com/JuliaAstro/SpectralFitting.jl/blob/e83fbafcb10d79e59fbd3d8ac780f009568e0aa3/lib/XSPECModels/src/additive.jl#L148-L182" target="_blank">source</a></section></details></article><article><details class="docstring" open="true"><summary id="XSPECModels.XS_Gaussian"><a class="docstring-binding" href="#XSPECModels.XS_Gaussian"><code>XSPECModels.XS_Gaussian</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">XS_Gaussian(K, E, σ)</code></pre><ul><li><p><code>K</code>: Normalisation</p></li><li><p><code>E</code>: Line energy in keV.</p></li><li><p><code>σ</code>: Line width in keV.</p></li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">energy = collect(range(4.0, 8.0, 100))
invokemodel(energy, XS_Gaussian())</code></pre><pre><code class="language-julia hljs">                        XS_Gaussian
        ┌────────────────────────────────────────┐
   0.09 │                                        │
        │            .                           │
        │           : :                          │
        │           : :                          │
        │           : '.                         │
        │          .'  :                         │
        │          :   :                         │
        │          :   :                         │
        │          :   '.                        │
        │         :     :                        │
        │         :     :                        │
        │         :     :                        │
        │        .'      :                       │
        │        :       :                       │
      0 │.......:         :......................│
        └────────────────────────────────────────┘
         0                                     20
                          E (keV)</code></pre></div><a class="docs-sourcelink" href="https://github.com/JuliaAstro/SpectralFitting.jl/blob/e83fbafcb10d79e59fbd3d8ac780f009568e0aa3/lib/XSPECModels/src/additive.jl#L464-L498" target="_blank">source</a></section></details></article><article><details class="docstring" open="true"><summary id="XSPECModels.XS_Laor"><a class="docstring-binding" href="#XSPECModels.XS_Laor"><code>XSPECModels.XS_Laor</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">XS_Laor(K, lineE, a, inner_r, outer_r, incl)</code></pre><ul><li><p><code>K</code>: Normalisation.</p></li><li><p><code>lineE</code>: Rest frame line energy (keV).</p></li><li><p><code>a</code>: Power law dependence of emissivity. Scales R⁻ᵅ.</p></li><li><p><code>inner_r</code>: Inner radius of the accretion disk (GM/c).</p></li><li><p><code>outer_r</code>: Outer radius of the accretion disk (GM/c).</p></li><li><p><code>θ</code>: Disk inclination angle to line of sight (degrees, 0 is pole on).</p></li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">energy = collect(range(0.1, 10.0, 100))
invokemodel(energy, XS_Laor())</code></pre><pre><code class="language-julia hljs">                          XS_Laor
        ┌────────────────────────────────────────┐
   0.06 │                                        │
        │                                        │
        │                         ::             │
        │                         ::             │
        │                        : :             │
        │                       :  :             │
        │                      :   :             │
        │                     :'   :             │
        │                   .:     :             │
        │                  :'      :             │
        │                .'        :             │
        │              .:'         :             │
        │            ..'           :             │
        │          .:'              :            │
      0 │.......:''                 :............│
        └────────────────────────────────────────┘
         0                                     10
                          E (keV)</code></pre></div><a class="docs-sourcelink" href="https://github.com/JuliaAstro/SpectralFitting.jl/blob/e83fbafcb10d79e59fbd3d8ac780f009568e0aa3/lib/XSPECModels/src/additive.jl#L344-L378" target="_blank">source</a></section></details></article><article><details class="docstring" open="true"><summary id="XSPECModels.XS_DiskLine"><a class="docstring-binding" href="#XSPECModels.XS_DiskLine"><code>XSPECModels.XS_DiskLine</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">XS_DiskLine(K, lineE, β, inner_r, outer_r, incl)</code></pre><ul><li><p><code>K</code>: Normalisation.</p></li><li><p><code>lineE</code>: Rest frame line energy (keV).</p></li><li><p><code>β</code>: Power law dependence of emissivity. If &lt; 10, scales Rᵅ.</p></li><li><p><code>inner_r</code>: Inner radius of the accretion disk (GM/c).</p></li><li><p><code>outer_r</code>: Outer radius of the accretion disk (GM/c).</p></li><li><p><code>θ</code>: Disk inclination angle to line of sight (degrees, 0 is pole on).</p></li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">energy = collect(range(4.0, 8.0, 100))
invokemodel(energy, XS_DiskLine())</code></pre><pre><code class="language-julia hljs">                        XS_DiskLine
        ┌────────────────────────────────────────┐
   0.09 │                                        │
        │                           .            │
        │                           :            │
        │                           ::           │
        │                         . ::           │
        │                         : ::           │
        │                         :'':           │
        │                        .'  :           │
        │                        :    :          │
        │                        :    :          │
        │                       .'    :          │
        │                       :     :          │
        │                     .:      '.         │
        │                   .:'        :         │
      0 │...............:'''           :.........│
        └────────────────────────────────────────┘
         4                                      8
                          E (keV)</code></pre></div><a class="docs-sourcelink" href="https://github.com/JuliaAstro/SpectralFitting.jl/blob/e83fbafcb10d79e59fbd3d8ac780f009568e0aa3/lib/XSPECModels/src/additive.jl#L404-L438" target="_blank">source</a></section></details></article><article><details class="docstring" open="true"><summary id="XSPECModels.XS_PhotoelectricAbsorption"><a class="docstring-binding" href="#XSPECModels.XS_PhotoelectricAbsorption"><code>XSPECModels.XS_PhotoelectricAbsorption</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">XS_PhotoelectricAbsorption(ηH)</code></pre><ul><li><code>ηH</code>: Equivalent hydrogen column (units of 10²² atoms per cm⁻²).</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">energy = collect(range(0.1, 20.0, 100))
invokemodel(energy, XS_PhotoelectricAbsorption())</code></pre><pre><code class="language-julia hljs">             XS_PhotoelectricAbsorption
     ┌────────────────────────────────────────┐
   1 │       ...''''''''''''''''''''''''''''''│
     │      .'                                │
     │     :                                  │
     │    :'                                  │
     │    :                                   │
     │   :                                    │
     │   :                                    │
     │   :                                    │
     │  :                                     │
     │  :                                     │
     │  :                                     │
     │  :                                     │
     │  :                                     │
     │ :                                      │
   0 │.:                                      │
     └────────────────────────────────────────┘
      0                                     20
                       E (keV)</code></pre></div><a class="docs-sourcelink" href="https://github.com/JuliaAstro/SpectralFitting.jl/blob/e83fbafcb10d79e59fbd3d8ac780f009568e0aa3/lib/XSPECModels/src/multiplicative.jl#L1-L35" target="_blank">source</a></section></details></article><article><details class="docstring" open="true"><summary id="XSPECModels.XS_WarmAbsorption"><a class="docstring-binding" href="#XSPECModels.XS_WarmAbsorption"><code>XSPECModels.XS_WarmAbsorption</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">XS_WarmAbsorption(ηH, Ew)</code></pre><ul><li><p><code>ηH</code>: Equivalent hydrogen column (units of 10²² atoms per cm⁻²).</p></li><li><p><code>Ew</code>: Window energy (keV).</p></li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">energy = collect(range(0.1, 20.0, 100))
invokemodel(energy, XS_WarmAbsorption())</code></pre><pre><code class="language-julia hljs">                    XS_WarmAbsorption
       ┌────────────────────────────────────────┐
     1 │':      ...''':'''''''''''''''''''''''''│
       │ :    .:'                               │
       │ :   .'                                 │
       │ :  .:                                  │
       │ :  :                                   │
       │ :  :                                   │
       │ : :                                    │
       │ : :                                    │
       │ : :                                    │
       │ : :                                    │
       │ ::                                     │
       │ ::                                     │
       │  :                                     │
       │  :                                     │
   0.2 │  :                                     │
       └────────────────────────────────────────┘
        0                                     20
                         E (keV)</code></pre></div><a class="docs-sourcelink" href="https://github.com/JuliaAstro/SpectralFitting.jl/blob/e83fbafcb10d79e59fbd3d8ac780f009568e0aa3/lib/XSPECModels/src/multiplicative.jl#L45-L79" target="_blank">source</a></section></details></article><article><details class="docstring" open="true"><summary id="XSPECModels.XS_CalculateFlux"><a class="docstring-binding" href="#XSPECModels.XS_CalculateFlux"><code>XSPECModels.XS_CalculateFlux</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">XS_CalculateFlux(E_min, E_max, lg10Flux)</code></pre><ul><li><p><code>E_min</code>: Minimum energy.</p></li><li><p><code>E_max</code>: Maximum energy.</p></li><li><p><code>log10Flux</code>: log (base 10) flux in erg / cm^2 / s</p></li></ul></div><a class="docs-sourcelink" href="https://github.com/JuliaAstro/SpectralFitting.jl/blob/e83fbafcb10d79e59fbd3d8ac780f009568e0aa3/lib/XSPECModels/src/convolutional.jl#L1-L5" target="_blank">source</a></section></details></article><article><details class="docstring" open="true"><summary id="XSPECModels.XS_KerrDisk"><a class="docstring-binding" href="#XSPECModels.XS_KerrDisk"><code>XSPECModels.XS_KerrDisk</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">XS_KerrDisk(K, lineE, index1, index2, break_r, a, θ, inner_r, outer_r)</code></pre><ul><li><p><code>K</code>: Normalisation.</p></li><li><p><code>lineE</code>: Rest frame line energy (keV).</p></li><li><p><code>index1</code>: Emissivity index for inner disk.</p></li><li><p><code>index2</code>: Emissivity index for outer disk.</p></li><li><p><code>break_r</code>: Break radius separating inner and outer disk (gᵣ).</p></li><li><p><code>a</code>: Dimensionless black hole spin.</p></li><li><p><code>θ</code>: Disk inclination angle to line of sight (degrees).</p></li><li><p><code>inner_r</code>: Inner radius of the disk in units of rₘₛ.</p></li><li><p><code>outer_r</code>: Outer radius of the disk in units of rₘₛ.</p></li><li><p><code>z</code>: Redshift.</p></li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">energy = collect(range(0.1, 20.0, 100))
invokemodel(energy, XS_KerrDisk())</code></pre><pre><code class="language-julia hljs">                        XS_KerrDisk
        ┌────────────────────────────────────────┐
   0.05 │                                        │
        │                                        │
        │                                .       │
        │                               .:       │
        │                              :::       │
        │                            .:' '.      │
        │                           .:    :      │
        │                         ..'     :      │
        │                         :'      :      │
        │                       .'        :      │
        │                     .:'         :      │
        │                  .:''           :      │
        │               .::'              :      │
        │            ..:'                 :      │
      0 │.........:'''                    :......│
        └────────────────────────────────────────┘
         0                                      8
                          E (keV)</code></pre></div><a class="docs-sourcelink" href="https://github.com/JuliaAstro/SpectralFitting.jl/blob/e83fbafcb10d79e59fbd3d8ac780f009568e0aa3/lib/XSPECModels/src/additive.jl#L194-L228" target="_blank">source</a></section></details></article><article><details class="docstring" open="true"><summary id="XSPECModels.XS_KyrLine"><a class="docstring-binding" href="#XSPECModels.XS_KyrLine"><code>XSPECModels.XS_KyrLine</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">XS_KyrLine(K, a, θ_obs, inner_r, ms_flag, outer_r, lineE, α, β, break_r, z, limb)</code></pre><ul><li><p><code>K</code>: Normalisation.</p></li><li><p><code>a</code>: Dimensionless black hole spin.</p></li><li><p><code>θ</code>: Observer inclination (0 is on pole, degrees).</p></li><li><p><code>inner_r</code>: Inner radius of the disk in units of GM/c²</p></li><li><p><code>ms_flag</code>: 0: integrate from rᵢₙ. 1: integrate from rₘₛ.</p></li><li><p><code>outer_r</code>: Outer radius of the disk in units of GM/c²</p></li><li><p><code>lineE</code>: Rest frame line energy (keV).</p></li><li><p><code>α</code></p></li><li><p><code>β</code></p></li><li><p><code>break_r</code>: Break radius seperating inner and outer disk (GM/c²).</p></li><li><p><code>z</code>: Overall Doppler shift.</p></li><li><p><code>limb</code>: 0: isotropic emission, 1: Laor's limb darkening, 2: Haard's limb brightening.</p></li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">energy = collect(range(0.1, 20.0, 100))
invokemodel(energy, XS_KyrLine())</code></pre><pre><code class="language-julia hljs">                        XS_KyrLine
        ┌────────────────────────────────────────┐
   0.05 │                                        │
        │                                        │
        │                                :       │
        │                                :.      │
        │                              :.':      │
        │                             :'  :      │
        │                            :    :      │
        │                          .'     :      │
        │                        .:'      :      │
        │                       .'        :      │
        │                     .:          :      │
        │                   .'            :      │
        │                .:'              :      │
        │            ..:'                 :      │
      0 │.........:'''                    :......│
        └────────────────────────────────────────┘
         0                                      8
                          E (keV)</code></pre></div><a class="docs-sourcelink" href="https://github.com/JuliaAstro/SpectralFitting.jl/blob/e83fbafcb10d79e59fbd3d8ac780f009568e0aa3/lib/XSPECModels/src/additive.jl#L267-L301" target="_blank">source</a></section></details></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../surrogate-models/">« Surrogate models</a><a class="docs-footer-nextpage" href="../../datasets/datasets/">Using datasets »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label></p><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div><p></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Tuesday 25 November 2025 15:04">Tuesday 25 November 2025</span>. Using Julia version 1.12.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></HTML>