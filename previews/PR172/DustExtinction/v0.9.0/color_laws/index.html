<!DOCTYPE html><HTML lang="en"><head><script charset="utf-8" src="../../../assets/default/multidoc_injector.js" type="text/javascript"></script><script charset="utf-8" type="text/javascript">window.MULTIDOCUMENTER_ROOT_PATH = '/'</script><script charset="utf-8" src="../../../assets/default/flexsearch.bundle.js" type="text/javascript"></script><script charset="utf-8" src="../../../assets/default/flexsearch_integration.js" type="text/javascript"></script><meta charset="UTF-8"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><title>Color Laws · DustExtinction.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script data-main="../assets/documenter.js" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" data-theme-name="documenter-dark" href="../assets/themes/documenter-dark.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="documenter-light" data-theme-primary="" href="../assets/themes/documenter-light.css" rel="stylesheet" type="text/css"/><script src="../assets/themeswap.js"></script><link href="https://JuliaAstro.org/DustExtinction/stable/color_laws/" rel="canonical"/><link href="../../../assets/default/multidoc.css" rel="stylesheet" type="text/css"/><link href="../../../assets/default/flexsearch.css" rel="stylesheet" type="text/css"/></head><body><nav id="multi-page-nav"><a class="brand" href="../../.."><img alt="home" src="../../../assets/logo.svg"/></a><div class="hidden-on-mobile" id="nav-items"><a class="nav-link nav-item" href="../../../home/">Home</a><div class="nav-dropdown"><button class="nav-item dropdown-label">Domain</button><div class="nav-dropdown-container nav-mega-dropdown-container"><div class="nav-mega-column"><div class="column-header">Solar System</div><ul class="column-content"><a class="nav-link nav-item" href="../../../CALCEPH/">⬤ CALCEPH</a><a class="nav-link nav-item" href="https://juliaastro.org/EphemerisSources.jl" target="_blank">⬤ EphemerisSources</a><a class="nav-link nav-item" href="https://juliaastro.org/GeneralAstrodynamics.jl" target="_blank">⬤ GeneralAstrodynamics</a><a class="nav-link nav-item" href="https://github.com/PerezHz/HORIZONS.jl?tab=readme-ov-file#horizonsjl" target="_blank">⬤ HORIZONS</a><a class="nav-link nav-item" href="https://juliaspace.github.io/SatelliteToolbox.jl/stable/" target="_blank">⬤ SatelliteToolbox</a><a class="nav-link nav-item" href="../../../SPICE/">⬤ SPICE</a></ul></div><div class="nav-mega-column"><div class="column-header">Exoplanets</div><ul class="column-content"><a class="nav-link nav-item" href="http://JuliaHCI.github.io/ADI.jl/stable/" target="_blank">⬤ ADI</a><a class="nav-link nav-item" href="http://JuliaHCI.github.io/HCIToolbox.jl/stable/" target="_blank">⬤ HCIToolbox</a><a class="nav-link nav-item" href="../../../Orbits/">⬤ Orbits</a><a class="nav-link nav-item" href="https://sefffal.github.io/PlanetOrbits.jl/dev/" target="_blank">⬤ PlanetOrbits</a><a class="nav-link nav-item" href="../../../Transits/">⬤ Transits</a></ul></div><div class="nav-mega-column"><div class="column-header">Stars</div><ul class="column-content"><a class="nav-link nav-item" href="https://cgarling.github.io/BolometricCorrections.jl/stable/" target="_blank">⬤ BolometricCorrections</a><a class="nav-link nav-item" href="https://cgarling.github.io/InitialMassFunctions.jl/stable/" target="_blank">⬤ InitialMassFunctions</a><a class="nav-link nav-item" href="https://cgarling.github.io/StarFormationHistories.jl/stable/" target="_blank">⬤ StarFormationHistories</a></ul></div><div class="nav-mega-column"><div class="column-header">Galaxies and Cosmology</div><ul class="column-content"><a class="nav-link nav-item" href="../../../Cosmology/">⬤ Cosmology</a><a class="nav-link active nav-item" href="../../">⬤ DustExtinction</a><a class="nav-link nav-item" href="https://ehtjulia.github.io/ScatteringOptics.jl/stable/" target="_blank">⬤ ScatteringOptics</a></ul></div></div></div><div class="nav-dropdown"><button class="nav-item dropdown-label">Techniques</button><div class="nav-dropdown-container nav-mega-dropdown-container"><div class="nav-mega-column"><div class="column-header">Photometry</div><ul class="column-content"><a class="nav-link nav-item" href="../../../CCDReduction/">⬤ CCDReduction</a><a class="nav-link nav-item" href="../../../LACosmic/">⬤ LACosmic</a><a class="nav-link nav-item" href="../../../Photometry/">⬤ Photometry</a><a class="nav-link nav-item" href="../../../PSFModels/">⬤ PSFModels</a><a class="nav-link nav-item" href="../../../SAOImageDS9/">⬤ SAOImageDS9</a></ul></div><div class="nav-mega-column"><div class="column-header">Astrometry</div><ul class="column-content"><a class="nav-link nav-item" href="https://barrettp.github.io/Astrometry/dev" target="_blank">⬤ Astrometry</a><a class="nav-link nav-item" href="../../../AstroTime/">⬤ AstroTime</a><a class="nav-link nav-item" href="../../../EarthOrientation/">⬤ EarthOrientation</a><a class="nav-link nav-item" href="../../../ERFA/">◯ ERFA</a><a class="nav-link nav-item" href="../../../Healpix/">⬤ Healpix</a><a class="nav-link nav-item" href="../../../Reproject/">⬤ Reproject</a><a class="nav-link nav-item" href="../../../SkyCoords/">⬤ SkyCoords</a><a class="nav-link nav-item" href="../../../WCS/">◯ WCS</a></ul></div><div class="nav-mega-column"><div class="column-header">Spectroscopy</div><ul class="column-content"><a class="nav-link nav-item" href="https://ajwheeler.github.io/Korg.jl/stable/" target="_blank">⬤ Korg</a><a class="nav-link nav-item" href="https://fjebaker.github.io/SpectralFitting.jl/dev/" target="_blank">⬤ SpectralFitting</a></ul></div><div class="nav-mega-column"><div class="column-header">Time Series Analysis</div><ul class="column-content"><a class="nav-link nav-item" href="https://docs.juliadsp.org/stable/" target="_blank">⬤ DSP</a><a class="nav-link nav-item" href="../../../LombScargle/">⬤ LombScargle</a><a class="nav-link nav-item" href="https://juliastats.github.io/TimeSeries.jl/stable" target="_blank">⬤ TimeSeries</a></ul></div><div class="nav-mega-column"><div class="column-header">Interferometry</div><ul class="column-content"><a class="nav-link nav-item" href="https://ptiede.github.io/Comrade.jl/stable/" target="_blank">⬤ Comrade</a><a class="nav-link nav-item" href="https://aplavin.github.io/Difmap.jl/test/examples.html" target="_blank">⬤ Difmap</a><a class="nav-link nav-item" href="https://github.com/emmt/OIFITS.jl?tab=readme-ov-file#support-for-oi-fits-data-in-julia" target="_blank">⬤ OIFITS</a><a class="nav-link nav-item" href="https://fabienbaron.github.io/OITOOLS.jl/dev" target="_blank">⬤ OITOOLS</a><a class="nav-link nav-item" href="https://ehtjulia.github.io/PolarizedTypes.jl/stable/" target="_blank">⬤ PolarizedTypes</a><a class="nav-link nav-item" href="https://aplavin.github.io/VLBIData.jl/test/examples.html" target="_blank">⬤ VLBIData</a><a class="nav-link nav-item" href="https://ehtjulia.github.io/VLBISkyModels.jl/stable/" target="_blank">⬤ VLBISkyModels</a></ul></div></div></div><div class="nav-dropdown"><button class="nav-item dropdown-label">Statistics</button><div class="nav-dropdown-container nav-mega-dropdown-container"><div class="nav-mega-column"><div class="column-header">Uncertainty</div><ul class="column-content"><a class="nav-link nav-item" href="https://juliaphysics.github.io/Measurements.jl/stable/" target="_blank">⬤ Measurements</a><a class="nav-link nav-item" href="https://baggepinnen.github.io/MonteCarloMeasurements.jl/stable/" target="_blank">⬤ MonteCarloMeasurements</a><a class="nav-link nav-item" href="https://baggepinnen.github.io/MonteCarloMeasurements.jl/stable/" target="_blank">⬤ Uncertain</a></ul></div><div class="nav-mega-column"><div class="column-header">Optimization</div><ul class="column-content"><a class="nav-link nav-item" href="../../../BoxLeastSquares/">⬤ BoxLeastSquares</a><a class="nav-link nav-item" href="http://jump.dev/JuMP.jl/" target="_blank">⬤ JuMP</a><a class="nav-link nav-item" href="https://docs.sciml.ai/NonlinearSolve/stable/" target="_blank">⬤ NonlinearSolve</a><a class="nav-link nav-item" href="https://docs.sciml.ai/Optimization/stable/" target="_blank">⬤ Optimization</a></ul></div><div class="nav-mega-column"><div class="column-header">General</div><ul class="column-content"><a class="nav-link nav-item" href="../../../AstroLib/">⬤ AstroLib</a><a class="nav-link nav-item" href="http://mileslucas.com/BiweightStats.jl/stable/" target="_blank">⬤ BiweightStats</a><a class="nav-link nav-item" href="https://github.com/jeff-regier/Celeste.jl/wiki/" target="_blank">⬤ Celeste</a><a class="nav-link nav-item" href="https://juliastats.org/" target="_blank">⬤ JuliaStats</a><a class="nav-link nav-item" href="https://juliastats.github.io/Distributions.jl/stable/" target="_blank">⬤ Distributions</a><a class="nav-link nav-item" href="https://ehtjulia.github.io/FastHartleyTransform.jl/stable/" target="_blank">⬤ FastHartleyTransform</a><a class="nav-link nav-item" href="https://sefffal.github.io/Octofitter.jl/dev" target="_blank">⬤ Octofitter</a></ul></div></div></div><div class="nav-dropdown"><button class="nav-item dropdown-label">Utilities</button><div class="nav-dropdown-container nav-mega-dropdown-container"><div class="nav-mega-column"><div class="column-header">Data I/O</div><ul class="column-content"><a class="nav-link nav-item" href="../../../ASDF2/">⬤ ASDF2</a><a class="nav-link nav-item" href="../../../AstroImages/">⬤ AstroImages</a><a class="nav-link nav-item" href="../../../CFITSIO/">◯ CFITSIO</a><a class="nav-link nav-item" href="https://emmt.github.io/EasyFITS.jl/dev" target="_blank">⬤ EasyFITS</a><a class="nav-link nav-item" href="https://barrettp.github.io/FITSFiles.jl/" target="_blank">⬤ FITSFiles</a><a class="nav-link nav-item" href="../../../FITSIO/">◯ FITSIO</a><a class="nav-link nav-item" href="https://github.com/JuliaAPlavin/FixedWidthTables.jl?tab=readme-ov-file#fixedwidthtablesjl" target="_blank">⬤ FixedWidthTables</a><a class="nav-link nav-item" href="https://aplavin.github.io/SkyImages.jl/test/notebook.html" target="_blank">⬤ SkyImages</a><a class="nav-link nav-item" href="https://github.com/JuliaAPlavin/VirtualObservatory.jl?tab=readme-ov-file#virtualobservatoryjl" target="_blank">⬤ VirtualObservatory</a><a class="nav-link nav-item" href="https://github.com/JuliaAPlavin/VOTables.jl" target="_blank">⬤ VOTables</a><a class="nav-link nav-item" href="../../../XPA/">⬤ XPA</a></ul></div><div class="nav-mega-column"><div class="column-header">Data processing</div><ul class="column-content"><a class="nav-link nav-item" href="../../../Astroalign/">⬤ Astroalign</a><a class="nav-link nav-item" href="https://github.com/torrance/Casacore.jl?tab=readme-ov-file#casacorejl" target="_blank">⬤ Casacore</a><a class="nav-link nav-item" href="https://dataframes.juliadata.org/stable/" target="_blank">⬤ DataFrames</a><a class="nav-link nav-item" href="https://rafaqz.github.io/DimensionalData.jl/stable/" target="_blank">⬤ DimensionalData</a><a class="nav-link nav-item" href="https://aplavin.github.io/FlexiJoins.jl/test/examples.html" target="_blank">⬤ FlexiJoins</a><a class="nav-link nav-item" href="https://github.com/gcalderone/SortMerge.jl?tab=readme-ov-file#sortmerge" target="_blank">⬤ SortMerge</a></ul></div><div class="nav-mega-column"><div class="column-header">Data Viz</div><ul class="column-content"><a class="nav-link nav-item" href="../../../AstroImages/">⬤ AstroImages</a><a class="nav-link nav-item" href="https://juliaimages.github.io/ImageFiltering.jl/stable" target="_blank">⬤ ImageFiltering</a><a class="nav-link nav-item" href="https://manuelbehrendt.github.io/Mera.jl/stable/" target="_blank">⬤ Mera</a><a class="nav-link nav-item" href="https://sefffal.github.io/PairPlots.jl/dev/" target="_blank">⬤ PairPlots</a><a class="nav-link nav-item" href="https://aplavin.github.io/SkyImages.jl/test/notebook.html" target="_blank">⬤ SkyImages</a></ul></div><div class="nav-mega-column"><div class="column-header">Units/Constants</div><ul class="column-content"><a class="nav-link nav-item" href="../../../AstroAngles/">⬤ AstroAngles</a><a class="nav-link nav-item" href="https://symbolicml.org/DynamicQuantities.jl/stable/" target="_blank">⬤ DynamicQuantities</a><a class="nav-link nav-item" href="https://juliaphysics.github.io/PhysicalConstants.jl/stable/" target="_blank">⬤ PhysicalConstants</a><a class="nav-link nav-item" href="https://painterqubits.github.io/Unitful.jl/stable" target="_blank">⬤ Unitful</a><a class="nav-link nav-item" href="../../../UnitfulAstro/">⬤ UnitfulAstro</a></ul></div></div></div><div class="search nav-item"><input id="search-input" placeholder="Search everywhere..."/><ul class="suggestions hidden" id="search-result-container"></ul><div class="search-keybinding">/</div></div></div><button id="multidoc-toggler"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg></button></nav><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img alt="DustExtinction.jl logo" src="../assets/logo.svg"/></a><div class="docs-package-name"><span class="docs-autofit">DustExtinction.jl</span></div><form action="../search/" class="docs-search"><input class="docs-search-query" id="documenter-search-query" name="q" placeholder="Search docs" type="text"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href="">Color Laws</a><ul class="internal"><li><a class="tocitem" href="#Usage-1"><span>Usage</span></a></li><li><a class="tocitem" href="#Advanced-Usage-1"><span>Advanced Usage</span></a></li><li><a class="tocitem" href="#Parametric-Extinction-Laws-1"><span>Parametric Extinction Laws</span></a></li><li><a class="tocitem" href="#API/Reference-1"><span>API/Reference</span></a></li></ul></li><li><a class="tocitem" href="../dust_maps/">Dust Maps</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="">Color Laws</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="">Color Laws</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaAstro/DustExtinction.jl/blob/master/docs/src/color_laws.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" href="#" id="documenter-settings-button" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" href="#" id="documenter-sidebar-button"></a></div></header><article class="content" id="documenter-page"><h1 id="laws-1"><a class="docs-heading-anchor" href="#laws-1">Color laws</a><a class="docs-heading-anchor-permalink" href="#laws-1" title="Permalink"></a></h1><p>The following empirical laws allow us to model the reddening of light as it travels to us. The law you use should depend on the type of data you have and the goal of its use. <a href="#DustExtinction.CCM89"><code>CCM89</code></a> is very common for use in removing extinction from stellar observations, but <a href="#DustExtinction.CAL00"><code>CAL00</code></a>, for instance, is suited for galaxies with massive stars. Look through the citations and documentation for each law to get a better idea of what sort of physics it targets.</p><h2 id="Usage-1"><a class="docs-heading-anchor" href="#Usage-1">Usage</a><a class="docs-heading-anchor-permalink" href="#Usage-1" title="Permalink"></a></h2><p>Color laws are constructed and then used as a function for passing wavelengths. Wavelengths are assumed to be in units of angstroms.</p><pre><code class="language-julia-repl">julia&gt; CCM89(Rv=3.1)(4000)
1.464555702942584
</code></pre><p>These laws can be applied across higher dimension arrays using the <code>.</code> operator</p><pre><code class="language-julia-repl">julia&gt; CCM89(Rv=3.1).([4000, 5000])
2-element Array{Float64,1}:
 1.464555702942584
 1.1222468788993019
</code></pre><p>these laws return magnitudes, which we can apply directly to flux by mulitplication with a base-2.5 logarithmic system (because astronomers are fun):</p><div>\[f = f \cdot 10 ^ {-0.4A_v\cdot mag}\]</div><p>To make this easier, we provide a convenience <a href="#DustExtinction.redden"><code>redden</code></a> and <a href="#DustExtinction.deredden"><code>deredden</code></a> functions for applying these color laws to flux measurements.</p><pre><code class="language-julia-repl">julia&gt; wave = range(4000, 5000, length=4)
4000.0:333.3333333333333:5000.0

julia&gt; flux = 1e-8 .* wave .+ 1e-2
0.01004:3.3333333333333333e-6:0.01005

julia&gt; redden.(CCM89, wave, flux; Av=0.3)
4-element Array{Float64,1}:
 0.006698646015454752
 0.006918253926353551
 0.007154659823737299
 0.007370491272731541

julia&gt; deredden.(CCM89(Rv=3.1), wave, ans; Av=0.3) ≈ flux
true
</code></pre><h2 id="Advanced-Usage-1"><a class="docs-heading-anchor" href="#Advanced-Usage-1">Advanced Usage</a><a class="docs-heading-anchor-permalink" href="#Advanced-Usage-1" title="Permalink"></a></h2><p>The color laws also have built-in support for uncertainties using <a href="https://github.com/juliaphysics/measurements.jl">Measurements.jl</a>.</p><pre><code class="language-julia-repl">julia&gt; using Measurements

julia&gt; CCM89(Rv=3.1).([4000. ± 10.5, 5000. ± 10.2])
2-element Array{Measurement{Float64},1}:
 1.4646 ± 0.0033
 1.1222 ± 0.003
</code></pre><p>and also support units via <a href="https://github.com/painterqubits/unitful.jl">Unitful.jl</a> and its subsidiaries. Notice how the output type is now <code>Unitful.Gain</code>.</p><pre><code class="language-julia-repl">julia&gt; using Unitful, UnitfulAstro

julia&gt; mags = CCM89(Rv=3.1).([4000u"angstrom", 0.5u"μm"])
2-element Array{Gain{Unitful.LogInfo{:Magnitude,10,-2.5},:?,Float64},1}:
 1.4645557029425837 mag
 1.1222468788993019 mag
</code></pre><p>You can even combine the two above to get some really nice workflows exploiting all Julia has to offer! This example shows how you could redden some OIR observational data with uncertainties in the flux density.</p><pre><code class="language-julia-repl">julia&gt; using Measurements, Unitful, UnitfulAstro

julia&gt; wave = range(0.3, 1.0, length=5)u"μm"
(0.3:0.175:1.0) μm

julia&gt; err = randn(length(wave))
5-element Array{Float64,1}:
  0.2972879845354616
  0.3823959677906078
 -0.5976344767282311
 -0.01044524463737564
 -0.839026854388764

julia&gt; flux = @.(300 / ustrip(wave)^4 ± err)*u"Jy"
5-element Array{Quantity{Measurement{Float64},𝐌*𝐓⁻²,Unitful.FreeUnits{(Jy,),𝐌*𝐓⁻²,nothing}},1}:
  37037.04 ± 0.3 Jy
  5893.14 ± 0.38 Jy
  1680.61 ± -0.6 Jy
 647.598 ± -0.01 Jy
   300.0 ± -0.84 Jy

julia&gt; redden.(CCM89, wave, flux; Av=0.3)
5-element Array{Quantity{Measurement{Float64},𝐌*𝐓⁻²,Unitful.FreeUnits{(Jy,),𝐌*𝐓⁻²,nothing}},1}:
    22410.8 ± 0.18 Jy
    4229.74 ± 0.27 Jy
    1337.12 ± 0.48 Jy
 554.3349 ± 0.0089 Jy
     268.31 ± 0.75 Jy
</code></pre><h2 id="Parametric-Extinction-Laws-1"><a class="docs-heading-anchor" href="#Parametric-Extinction-Laws-1">Parametric Extinction Laws</a><a class="docs-heading-anchor-permalink" href="#Parametric-Extinction-Laws-1" title="Permalink"></a></h2><p>These laws are all parametrized by the selective extinction <code>Rv</code>. Mathematically, this is the ratio of the total extinction by the reddening</p><div>\[R_V = \frac{A_V}{E(B-V)}\]</div><p>and is loosely associated with the size of the dust grains in the interstellar medium.</p><p><strong>Index:</strong></p><ul><li><a href="#DustExtinction.CCM89"><code>CCM89</code></a></li><li><a href="#DustExtinction.OD94"><code>OD94</code></a></li><li><a href="#DustExtinction.CAL00"><code>CAL00</code></a></li><li><a href="#DustExtinction.VCG04"><code>VCG04</code></a></li><li><a href="#DustExtinction.GCC09"><code>GCC09</code></a></li><li><a href="#DustExtinction.F99"><code>F99</code></a></li><li><a href="#DustExtinction.F04"><code>F04</code></a></li></ul><h3 id="Clayton,-Cardelli-and-Mathis-(1989)-1"><a class="docs-heading-anchor" href="#Clayton,-Cardelli-and-Mathis-(1989)-1">Clayton, Cardelli and Mathis (1989)</a><a class="docs-heading-anchor-permalink" href="#Clayton,-Cardelli-and-Mathis-(1989)-1" title="Permalink"></a></h3><p><img alt="" src="../assets/ccm89_plot.svg"/></p><article class="docstring"><header><a class="docstring-binding" href="#DustExtinction.CCM89" id="DustExtinction.CCM89"><code>DustExtinction.CCM89</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">CCM89(;Rv=3.1)</code></pre><p>Clayton, Cardelli and Mathis (1989) dust law.</p><p>Returns E(B-V) in magnitudes at the given wavelength relative to the extinction at 5494.5 Å. The default support is [1000, 33333]. Outside of that range this will return 0. <code>Rv</code> is the selective extinction and is valid over [2, 6]. A typical value for the Milky Way is 3.1.</p><p><strong>References</strong></p><p><a href="https://ui.adsabs.harvard.edu/abs/1989ApJ...345..245C">Clayton,Cardelli and Mathis (1989)</a></p></div><a class="docs-sourcelink" href="https://github.com/JuliaLang/julia/blob/2d5741174ce3e6a394010d2e470e4269ca54607f/base/#L0-L10" target="_blank">source</a></section></article><h3 id="O&#39;Donnell-1994-1"><a class="docs-heading-anchor" href="#O&#39;Donnell-1994-1">O'Donnell 1994</a><a class="docs-heading-anchor-permalink" href="#O&#39;Donnell-1994-1" title="Permalink"></a></h3><p><img alt="" src="../assets/od94_plot.svg"/></p><article class="docstring"><header><a class="docstring-binding" href="#DustExtinction.OD94" id="DustExtinction.OD94"><code>DustExtinction.OD94</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">OD94(;Rv=3.1)</code></pre><p>O'Donnell (1994) dust law.</p><p>This is identical to the Clayton, Cardelli and Mathis (1989) dust law, except for different coefficients used in the optical (3030.3 Å to 9090.9 Å).</p><p><strong>References</strong></p><p><a href="https://ui.adsabs.harvard.edu/abs/1994ApJ...422..158O">O'Donnell (1994)</a></p><p><strong>See Also</strong></p><p><a href="#DustExtinction.CCM89"><code>CCM89</code></a></p></div><a class="docs-sourcelink" href="https://github.com/JuliaLang/julia/blob/2d5741174ce3e6a394010d2e470e4269ca54607f/base/#L0-L13" target="_blank">source</a></section></article><h3 id="Calzetti-et-al.-(2000)-1"><a class="docs-heading-anchor" href="#Calzetti-et-al.-(2000)-1">Calzetti et al. (2000)</a><a class="docs-heading-anchor-permalink" href="#Calzetti-et-al.-(2000)-1" title="Permalink"></a></h3><p><img alt="" src="../assets/cal00_plot.svg"/></p><article class="docstring"><header><a class="docstring-binding" href="#DustExtinction.CAL00" id="DustExtinction.CAL00"><code>DustExtinction.CAL00</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">CAL00(;Rv=4.05)</code></pre><p>Calzetti et al. (2000) Dust Law.</p><p>Returns E(B-V) in magnitudes at the given wavelength. <code>λ</code> is the wavelength in Å  and has support over [1200, 22000]. Outside of that range this will return 0.</p><p>Calzetti et al. (2000) developed a recipe for dereddening the spectra of galaxies where massive stars dominate the radiation output. They found the best  fit value for such galaxies was 4.05±0.80.</p><p><strong>References</strong></p><p><a href="https://ui.adsabs.harvard.edu/abs/2000ApJ...533..682C">Calzetti et al. (2000)</a></p></div><a class="docs-sourcelink" href="https://github.com/JuliaLang/julia/blob/2d5741174ce3e6a394010d2e470e4269ca54607f/base/#L0-L14" target="_blank">source</a></section></article><h3 id="Valencic,-Clayton,-and-Gordon-(2004)-1"><a class="docs-heading-anchor" href="#Valencic,-Clayton,-and-Gordon-(2004)-1">Valencic, Clayton, &amp; Gordon (2004)</a><a class="docs-heading-anchor-permalink" href="#Valencic,-Clayton,-and-Gordon-(2004)-1" title="Permalink"></a></h3><p><img alt="" src="../assets/vcg04_plot.svg"/></p><article class="docstring"><header><a class="docstring-binding" href="#DustExtinction.VCG04" id="DustExtinction.VCG04"><code>DustExtinction.VCG04</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">VCG04(;Rv=3.1)</code></pre><p>Valencic, Clayton, &amp; Gordon (2004) dust law.</p><p>This model applies to the UV spectral region all the way to 912 Å. This model was not derived for the optical or NIR.</p><p><strong>References</strong></p><p><a href="https://ui.adsabs.harvard.edu/abs/2004ApJ...616..912V/">Valencic, Clayton, &amp; Gordon (2004)</a></p></div><a class="docs-sourcelink" href="https://github.com/JuliaLang/julia/blob/2d5741174ce3e6a394010d2e470e4269ca54607f/base/#L0-L10" target="_blank">source</a></section></article><h3 id="Gordon,-Cartledge,-and-Clayton-(2009)-1"><a class="docs-heading-anchor" href="#Gordon,-Cartledge,-and-Clayton-(2009)-1">Gordon, Cartledge, &amp; Clayton (2009)</a><a class="docs-heading-anchor-permalink" href="#Gordon,-Cartledge,-and-Clayton-(2009)-1" title="Permalink"></a></h3><p><img alt="" src="../assets/gcc09_plot.svg"/></p><article class="docstring"><header><a class="docstring-binding" href="#DustExtinction.GCC09" id="DustExtinction.GCC09"><code>DustExtinction.GCC09</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">GCC09(;Rv=3.1)</code></pre><p>Gordon, Cartledge, &amp; Clayton (2009) dust law.</p><p>This model applies to the UV spectral region all the way to 909.09 Å. This model was not derived for the optical or NIR.</p><p><strong>References</strong></p><p><a href="https://ui.adsabs.harvard.edu/abs/2009ApJ...705.1320G/">Gordon, Cartledge, &amp; Clayton (2009)</a></p></div><a class="docs-sourcelink" href="https://github.com/JuliaLang/julia/blob/2d5741174ce3e6a394010d2e470e4269ca54607f/base/#L0-L10" target="_blank">source</a></section></article><h3 id="Fitzpatrick-(1999)-1"><a class="docs-heading-anchor" href="#Fitzpatrick-(1999)-1">Fitzpatrick (1999)</a><a class="docs-heading-anchor-permalink" href="#Fitzpatrick-(1999)-1" title="Permalink"></a></h3><p><img alt="" src="../assets/F99_plot.svg"/></p><article class="docstring"><header><a class="docstring-binding" href="#DustExtinction.F99" id="DustExtinction.F99"><code>DustExtinction.F99</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">F99(;Rv=3.1)</code></pre><p>Fitzpatrick (1999) dust law. Returns E(B-V) in magnitudes at the given wavelength relative to the extinction. This model applies to the UV and optical to NIR spectral range. The default support is [1000, 33333] Å. Outside of that range this will return</p><ol><li>Rv is the selective extinction and is valid over [2, 6]. A typical value for</li></ol><p>the Milky Way is 3.1.</p><p><strong>References</strong></p><p><a href="https://ui.adsabs.harvard.edu/abs/1999PASP..111...63F/">Fitzpatrick (1999)</a></p></div><a class="docs-sourcelink" href="https://github.com/JuliaLang/julia/blob/2d5741174ce3e6a394010d2e470e4269ca54607f/base/#L0-L10" target="_blank">source</a></section></article><h3 id="Fitzpatrick-(2004)-1"><a class="docs-heading-anchor" href="#Fitzpatrick-(2004)-1">Fitzpatrick (2004)</a><a class="docs-heading-anchor-permalink" href="#Fitzpatrick-(2004)-1" title="Permalink"></a></h3><p><img alt="" src="../assets/F04_plot.svg"/></p><article class="docstring"><header><a class="docstring-binding" href="#DustExtinction.F04" id="DustExtinction.F04"><code>DustExtinction.F04</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">F04(;Rv=3.1)</code></pre><p>Fitzpatrick (2004) dust law. Returns E(B-V) in magnitudes at the given wavelength relative to the extinction. This model applies to the UV and optical to NIR spectral range. The default support is [1000, 33333] Å. Outside of that range this will return</p><ol><li>Rv is the selective extinction and is valid over [2, 6]. A typical value for</li></ol><p>the Milky Way is 3.1. Equivalent to the F99 model with an updated NIR Rv dependence See also Fitzpatrick &amp; Massa (2007, ApJ, 663, 320)</p><p><strong>References</strong></p><p><a href="https://ui.adsabs.harvard.edu/abs/2004ASPC..309...33F/">Fitzpatrick (2004)</a></p></div><a class="docs-sourcelink" href="https://github.com/JuliaLang/julia/blob/2d5741174ce3e6a394010d2e470e4269ca54607f/base/#L0-L12" target="_blank">source</a></section></article><h2 id="API/Reference-1"><a class="docs-heading-anchor" href="#API/Reference-1">API/Reference</a><a class="docs-heading-anchor-permalink" href="#API/Reference-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" href="#DustExtinction.redden" id="DustExtinction.redden"><code>DustExtinction.redden</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">redden(::ExtinctionLaw, wave, flux; Av=1)
redden(::Type{ExtinctionLaw}, wave, flux; Av=1, law_kwargs...)</code></pre><p>Redden the given <code>flux</code> using the given extinction law at the given wavelength.</p><p>If <code>wave</code> is <code>&lt;:Real</code> then it is expected to be in angstrom and if it is <code>&lt;:Unitful.Quantity</code> it will be automatically converted. <code>Av</code> is the total extinction value. The extinction law can be a constructed struct or a <code>Type</code>. If it is a <code>Type</code>, <code>law_kwargs</code> will be passed to the constructor.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; wave = 3000; flux = 1000;

julia&gt; redden(CCM89, wave, flux; Rv=3.1)
187.38607779757183

julia&gt; redden(CCM89(Rv=3.1), wave, flux; Av=2)
35.11354215235764</code></pre><p><strong>See Also</strong></p><p><a href="#DustExtinction.deredden"><code>deredden</code></a></p></div><a class="docs-sourcelink" href="https://github.com/JuliaAstro/DustExtinction.jl/blob/2308bec6f062fda74a829cf95df30f959a03fa3a/src/DustExtinction.jl#L77-L99" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-binding" href="#DustExtinction.deredden" id="DustExtinction.deredden"><code>DustExtinction.deredden</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">deredden(::ExtinctionLaw, wave, flux; Av=1)
deredden(::Type{ExtinctionLaw}, wave, flux; Av=1, law_kwargs...)</code></pre><p>Deredden the given <code>flux</code> using the given extinction law at the given wavelength.</p><p>If <code>wave</code> is <code>&lt;:Real</code> then it is expected to be in angstrom and if it is <code>&lt;:Unitful.Quantity</code> it will be automatically converted. <code>Av</code> is the total extinction value. The extinction law can be a constructed struct or a <code>Type</code>. If it is a <code>Type</code>, <code>law_kwargs</code> will be passed to the constructor.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; wave = 3000; flux = 187.386;

julia&gt; deredden(CCM89, wave, flux; Rv=3.1)
999.9995848273642

julia&gt; deredden(CCM89(Rv=3.1), wave, flux; Av=2)
5336.573541539394</code></pre><p><strong>See Also</strong></p><p><a href="#DustExtinction.redden"><code>redden</code></a></p></div><a class="docs-sourcelink" href="https://github.com/JuliaAstro/DustExtinction.jl/blob/2308bec6f062fda74a829cf95df30f959a03fa3a/src/DustExtinction.jl#L105-L127" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-binding" href="#DustExtinction.ExtinctionLaw" id="DustExtinction.ExtinctionLaw"><code>DustExtinction.ExtinctionLaw</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">DustExtinction.ExtinctionLaw</code></pre><p>The abstract super-type for dust extinction laws. See the extended help (<code>??DustExtinction.ExtinctionLaw</code> from the REPL) for more information about the interface.</p><p><strong>Extended Help</strong></p><p><strong>Interface</strong></p><p>Here's how to make a new extinction law, called <code>MyLaw</code></p><ul><li>Create your struct. We strongly recommend using <code>Parameters.jl</code> to facilitate creating keyword argument constructors if your model is parameterized, which allows convenient usage with <a href="#DustExtinction.redden"><code>redden</code></a> and <a href="#DustExtinction.deredden"><code>deredden</code></a>. </li></ul><pre><code class="language-julia">struct MyLaw &lt;: DustExtinction.ExtinctionLaw end</code></pre><ul><li>(Optional) Define the limits. This will default to <code>(0, Inf)</code>. Currently, this is used within the <a href="@ref"><code>DustExtinction.checkbounds</code></a> function and in the future will be used for plotting recipes.</li></ul><pre><code class="language-julia">DustExtinction.bounds(::Type{&lt;:MyLaw}) = (min, max)</code></pre><ul><li>Define the law. You only need to provide one function which takes wavelength as angstrom. If your law is naturally written for inverse-micron, there is a helper function <code>aa_to_invum</code>.</li></ul><pre><code class="language-julia">(::MyLaw)(wavelength::Real)</code></pre><ul><li>(Optional) enable <code>Unitful.jl</code> support by adding this function. If you are building a new law within <code>DustExtinction.jl</code> you can add your law to the code-gen list inside <code>DustExtinction.jl/src/DustExtinction.jl</code>.</li></ul><pre><code class="language-julia">(l::MyLaw)(wavelength::Unitful.Quantity) = l(ustrip(u"angstrom", wavelength)) * u"mag"</code></pre></div><a class="docs-sourcelink" href="https://github.com/JuliaAstro/DustExtinction.jl/blob/2308bec6f062fda74a829cf95df30f959a03fa3a/src/DustExtinction.jl#L24-L50" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-binding" href="#DustExtinction.bounds" id="DustExtinction.bounds"><code>DustExtinction.bounds</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">DustExtinction.bounds(::ExtinctionLaw)::Tuple
DustExtinction.bounds(::Type{&lt;:ExtinctionLaw})::Tuple</code></pre><p>Get the natural wavelengths bounds for the extinction law, in angstrom</p></div><a class="docs-sourcelink" href="https://github.com/JuliaAstro/DustExtinction.jl/blob/2308bec6f062fda74a829cf95df30f959a03fa3a/src/DustExtinction.jl#L55-L60" target="_blank">source</a></section></article><h3 id="Fittable-Extinction-Laws-1"><a class="docs-heading-anchor" href="#Fittable-Extinction-Laws-1">Fittable Extinction Laws</a><a class="docs-heading-anchor-permalink" href="#Fittable-Extinction-Laws-1" title="Permalink"></a></h3><h4 id="Fitzpatrick-and-Massa-(1990)-1"><a class="docs-heading-anchor" href="#Fitzpatrick-and-Massa-(1990)-1">Fitzpatrick &amp; Massa (1990)</a><a class="docs-heading-anchor-permalink" href="#Fitzpatrick-and-Massa-(1990)-1" title="Permalink"></a></h4><p><img alt="" src="../assets/FM90_plot.svg"/></p><article class="docstring"><header><a class="docstring-binding" href="#DustExtinction.FM90" id="DustExtinction.FM90"><code>DustExtinction.FM90</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">FM90(;c1=0.10, c2=0.70, c3=3.23, c4=0.41, x0=4.60, gamma=0.9)
FM90(coeffs, x0=4.60, gamma=0.9)</code></pre><p>Fitzpatrick &amp; Massa (1990) generative model for ultraviolet dust extinction. The default values are the published values for the Milky Way average.</p><p><strong>Parameters</strong></p><ul><li><code>c1</code> - y-intercept of linear term</li><li><code>c2</code> - slope of liner term</li><li><code>c3</code> - amplitude of 2175 Å bump</li><li><code>c4</code> - amplitude of FUV rise</li><li><code>x0</code> - centroid of 2175 Å bump</li><li><code>gamma</code> - width of 2175 Å bump</li></ul><p>If <code>λ</code> is a <code>Unitful.Quantity</code> it will be automatically converted to Å and the returned value will be <code>UnitfulAstro.mag</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; model = FM90(c1=0.2, c2=0.7, c3=3.23, c4=0.41, x0=4.6, gamma=0.99);

julia&gt; model(1500)
5.2521258452800135

julia&gt; FM90()(1500)
5.152125845280013

julia&gt; FM90(c1=0.2, c2=0.7, c3=3.23, c4=0.41, x0=4.6, gamma=0.99).([1000, 1200, 1800])
3-element Array{Float64,1}:
 12.562237969522851
  7.769215017329513
  4.890128210972148
</code></pre><p><strong>Extended Help</strong></p><p>The model has form <span>$c_1 + c_2x + c_3D(x; \gamma, x_0) + c_4 F(x)$</span> where <span>$x$</span> is the wavenumber in inverse microns, <span>$D(x)$</span> is a Drude profile (modified Lorentzian) used to model the 2175 Å bump with the scale-free parameters <span>$x_0$</span> (central wavenumber) and <span>$\gamma$</span> (damping coefficient), and <span>$F(x)$</span>, a piecewise function for the far-UV. Note that the coefficients will change the overall normalization, possibly changing the expected behavior of reddening via the parameter <span>$A_V$</span>.</p><p><strong>References</strong></p><p><a href="https://ui.adsabs.harvard.edu/abs/1990ApJS...72..163F">Fitzpatrick &amp; Massa (1990)</a></p></div><a class="docs-sourcelink" href="https://github.com/JuliaLang/julia/blob/2d5741174ce3e6a394010d2e470e4269ca54607f/base/#L0-L43" target="_blank">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../dust_maps/">Dust Maps »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label></p><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div><p></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 17 July 2020 15:57">Friday 17 July 2020</span>. Using Julia version 1.3.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></HTML>